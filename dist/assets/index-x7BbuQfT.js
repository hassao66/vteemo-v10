import{r as h,a as Ns,u as xe,L as D,d as Je,e as Qe,f as ws,h as Se,i as T,j as ks,B as Ss}from"./react-vendor-LoUpQXIH.js";import{c as Cs}from"./supabase-vendor-BbIZ7XXE.js";import{G as Ye,C as Ps,M as Ds,P as I,a as E,S as fe,b as Ts,c as As,W as U,d as Re,R as F,U as Ee,B as Xe,e as Be,f as ye,H as Ze,T as q,g as M,h as Vs,i as K,j as Ie,L as pe,k as me,l as Ls,m as $s,n as es,N as Fs,o as Rs,p as Es,q as Is,Y as Us,r as Ms,s as qe,V as re,t as ss,u as oe,E as R,D as se,v as O,w as _s,x as Te,y as ts,z as as,A as Bs,F as rs,I as qs,J as Os,K as he,O as Ce,Q as Pe,X as zs,Z as is,_ as Oe,$ as Ws,a0 as Ks,a1 as ls,a2 as Gs,a3 as Hs,a4 as be,a5 as Ae,a6 as Js,a7 as Qs,a8 as je,a9 as ds,aa as De,ab as ns,ac as Ys,ad as Xs,ae as ce,af as Z,ag as os,ah as ie,ai as le,aj as de,ak as ee,al as cs,am as xs,an as ms,ao as Zs,ap as et,aq as st,ar as tt,as as ze,at,au as rt,av as it,aw as lt,ax as dt,ay as nt,az as ot,aA as We,aB as Ke,aC as hs,aD as ct}from"./ui-vendor-DFlgoN9z.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function a(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=a(t);fetch(t.href,o)}})();var gs={exports:{}},ve={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xt=h,mt=Symbol.for("react.element"),ht=Symbol.for("react.fragment"),gt=Object.prototype.hasOwnProperty,ut=xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pt={key:!0,ref:!0,__self:!0,__source:!0};function us(s,r,a){var i,t={},o=null,d=null;a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),r.ref!==void 0&&(d=r.ref);for(i in r)gt.call(r,i)&&!pt.hasOwnProperty(i)&&(t[i]=r[i]);if(s&&s.defaultProps)for(i in r=s.defaultProps,r)t[i]===void 0&&(t[i]=r[i]);return{$$typeof:mt,type:s,key:o,ref:d,props:t,_owner:ut.current}}ve.Fragment=ht;ve.jsx=us;ve.jsxs=us;gs.exports=ve;var e=gs.exports,Ve={},Ge=Ns;Ve.createRoot=Ge.createRoot,Ve.hydrateRoot=Ge.hydrateRoot;const Le={VITE_SUPABASE_URL:"https://xxibnxqhndjnlxmpsjmx.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh4aWJueHFobmRqbmx4bXBzam14Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzODQzOTUsImV4cCI6MjA3NDk2MDM5NX0.kH8qRhuwjCLp0UmI2V3vuiuytVcDrk-CTB0Z991bsgI"};function bt(){const s=[];if(Object.entries(Le).forEach(([r,a])=>{a||s.push(r)}),s.length>0)throw new Error(`Missing required environment variables:
${s.join(`
`)}

Please check your .env file and ensure all required variables are set.`)}const He={supabaseUrl:Le.VITE_SUPABASE_URL,supabaseAnonKey:Le.VITE_SUPABASE_ANON_KEY,isDevelopment:!1,isProduction:!0},w=Cs(He.supabaseUrl,He.supabaseAnonKey,{auth:{persistSession:!0,autoRefreshToken:!0}}),Y={signUp:async(s,r,a,i)=>{const{data:t,error:o}=await w.auth.signUp({email:s,password:r});if(o)throw o;if(!t.user)throw new Error("User creation failed");const{error:d}=await w.from("profiles").insert({id:t.user.id,username:a,display_name:i});if(d)throw d;return{success:!0,data:t}},signIn:async(s,r)=>{const{data:a,error:i}=await w.auth.signInWithPassword({email:s,password:r});if(i)throw i;return{success:!0,data:a}},signOut:async()=>{const{error:s}=await w.auth.signOut();if(s)throw s;return{success:!0}},getCurrentUser:async()=>{const{data:{user:s},error:r}=await w.auth.getUser();if(r)throw r;if(s){const{data:a}=await w.from("profiles").select("*").eq("id",s.id).maybeSingle();return{success:!0,data:{user:s,profile:a}}}return{success:!0,data:null}},getSession:async()=>{const{data:{session:s},error:r}=await w.auth.getSession();if(r)throw r;return{success:!0,data:s}}},ne={getVideos:async s=>{let r=w.from("videos").select("*, profiles(*)");s!=null&&s.category&&(r=r.eq("category",s.category)),s!=null&&s.search&&(r=r.or(`title.ilike.%${s.search}%,description.ilike.%${s.search}%`));const a=(s==null?void 0:s.sort)==="views"?"views":"created_at";r=r.order(a,{ascending:!1});const i=(s==null?void 0:s.limit)||20,o=(((s==null?void 0:s.page)||1)-1)*i,d=o+i-1;r=r.range(o,d);const{data:m,error:c}=await r;if(c)throw c;return{success:!0,data:m}},getVideo:async s=>{const{data:r,error:a}=await w.from("videos").select("*, profiles(*)").eq("id",s).maybeSingle();if(a)throw a;return{success:!0,data:r}},uploadVideo:async s=>{const{data:{user:r}}=await w.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:a,error:i}=await w.from("videos").insert({user_id:r.id,...s}).select().single();if(i)throw i;return{success:!0,data:a}},updateVideo:async(s,r)=>{const{data:a,error:i}=await w.from("videos").update(r).eq("id",s).select().single();if(i)throw i;return{success:!0,data:a}},deleteVideo:async s=>{const{error:r}=await w.from("videos").delete().eq("id",s);if(r)throw r;return{success:!0}},likeVideo:async s=>{const{data:{user:r}}=await w.auth.getUser();if(!r)throw new Error("User not authenticated");await w.from("video_interactions").delete().eq("user_id",r.id).eq("video_id",s).eq("interaction_type","dislike");const{error:a}=await w.from("video_interactions").upsert({user_id:r.id,video_id:s,interaction_type:"like"});if(a)throw a;return await w.rpc("increment_video_likes",{video_id:s}),{success:!0}},dislikeVideo:async s=>{const{data:{user:r}}=await w.auth.getUser();if(!r)throw new Error("User not authenticated");await w.from("video_interactions").delete().eq("user_id",r.id).eq("video_id",s).eq("interaction_type","like");const{error:a}=await w.from("video_interactions").upsert({user_id:r.id,video_id:s,interaction_type:"dislike"});if(a)throw a;return{success:!0}},incrementViews:async s=>{const{data:{user:r}}=await w.auth.getUser();if(!r)throw new Error("User not authenticated");const{error:a}=await w.from("video_interactions").upsert({user_id:r.id,video_id:s,interaction_type:"view"});if(a)throw a;return await w.from("videos").update({views:w.sql`views + 1`}).eq("id",s),{success:!0}},getTrending:async()=>{const{data:s,error:r}=await w.from("videos").select("*, profiles(*)").order("views",{ascending:!1}).limit(10);if(r)throw r;return{success:!0,data:s}},getCategories:async()=>({success:!0,data:["آموزشی","سرگرمی","موسیقی","ورزشی","خبری","فناوری","بازی","فیلم","هنری","طبیعت"]})},ue={getBalance:async()=>{const{data:{user:s}}=await w.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:r,error:a}=await w.from("wallets").select("*").eq("user_id",s.id).maybeSingle();if(a)throw a;return{success:!0,data:r}},getTransactions:async()=>{const{data:{user:s}}=await w.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:r}=await w.from("wallets").select("id").eq("user_id",s.id).maybeSingle();if(!r)throw new Error("Wallet not found");const{data:a,error:i}=await w.from("transactions").select("*").eq("wallet_id",r.id).order("created_at",{ascending:!1});if(i)throw i;return{success:!0,data:a}},deposit:async s=>{const{data:{user:r}}=await w.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:a}=await w.from("wallets").select("*").eq("user_id",r.id).maybeSingle();if(!a)throw new Error("Wallet not found");const{data:i,error:t}=await w.from("transactions").insert({wallet_id:a.id,type:"deposit",amount:s,description:"واریز به کیف پول"}).select().single();if(t)throw t;const{error:o}=await w.from("wallets").update({balance:a.balance+s,total_earned:a.total_earned+s}).eq("id",a.id);if(o)throw o;return{success:!0,data:i}},withdraw:async s=>{const{data:{user:r}}=await w.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:a}=await w.from("wallets").select("*").eq("user_id",r.id).maybeSingle();if(!a)throw new Error("Wallet not found");if(a.balance<s)throw new Error("موجودی کافی نیست");const{data:i,error:t}=await w.from("transactions").insert({wallet_id:a.id,type:"withdraw",amount:-s,description:"برداشت از کیف پول"}).select().single();if(t)throw t;const{error:o}=await w.from("wallets").update({balance:a.balance-s,total_withdrawn:a.total_withdrawn+s}).eq("id",a.id);if(o)throw o;return{success:!0,data:i}},getStats:async()=>{const{data:{user:s}}=await w.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:r}=await w.from("wallets").select("*").eq("user_id",s.id).maybeSingle();if(!r)throw new Error("Wallet not found");return{success:!0,data:{balance:r.balance,totalEarned:r.total_earned,totalWithdrawn:r.total_withdrawn}}}},jt={getStreams:async()=>{const{data:s,error:r}=await w.from("live_streams").select("*, profiles(*)").eq("status","live").order("started_at",{ascending:!1});if(r)throw r;return{success:!0,data:s}},getStream:async s=>{const{data:r,error:a}=await w.from("live_streams").select("*, profiles(*)").eq("id",s).maybeSingle();if(a)throw a;return{success:!0,data:r}},createStream:async s=>{const{data:{user:r}}=await w.auth.getUser();if(!r)throw new Error("User not authenticated");const a=`stream_${r.id}_${Date.now()}`,{data:i,error:t}=await w.from("live_streams").insert({user_id:r.id,stream_key:a,...s}).select().single();if(t)throw t;return{success:!0,data:i}},startStream:async s=>{const{data:r,error:a}=await w.from("live_streams").update({status:"live",started_at:new Date().toISOString()}).eq("id",s).select().single();if(a)throw a;return{success:!0,data:r}},endStream:async s=>{const{data:r,error:a}=await w.from("live_streams").update({status:"ended",ended_at:new Date().toISOString()}).eq("id",s).select().single();if(a)throw a;return{success:!0,data:r}}},ps=h.createContext(void 0),z=()=>{const s=h.useContext(ps);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},ft=({children:s})=>{const[r,a]=h.useState(null),[i,t]=h.useState(!0);h.useEffect(()=>{(async()=>{var j;try{const{data:x}=await Y.getCurrentUser();x!=null&&x.profile&&a({id:x.profile.id,username:x.profile.username,email:((j=x.user)==null?void 0:j.email)||"",avatar:x.profile.avatar_url||"",isAdmin:!1,subscribers:x.profile.subscriber_count,verified:!1,joinDate:x.profile.created_at,totalViews:0,totalVideos:0,isPremium:x.profile.is_premium})}catch(x){console.error("Auth init error:",x)}finally{t(!1)}})();const{data:{subscription:u}}=w.auth.onAuthStateChange((j,x)=>{(async()=>{var f;if(x!=null&&x.user){const{data:p}=await Y.getCurrentUser();p!=null&&p.profile&&a({id:p.profile.id,username:p.profile.username,email:((f=p.user)==null?void 0:f.email)||"",avatar:p.profile.avatar_url||"",isAdmin:!1,subscribers:p.profile.subscriber_count,verified:!1,joinDate:p.profile.created_at,totalViews:0,totalVideos:0,isPremium:p.profile.is_premium})}else a(null)})()});return()=>{u.unsubscribe()}},[]);const c={user:r,login:async(b,u)=>{var j;t(!0);try{if((await Y.signIn(b,u)).success){const{data:f}=await Y.getCurrentUser();return f!=null&&f.profile&&a({id:f.profile.id,username:f.profile.username,email:((j=f.user)==null?void 0:j.email)||"",avatar:f.profile.avatar_url||"",isAdmin:!1,subscribers:f.profile.subscriber_count,verified:!1,joinDate:f.profile.created_at,totalViews:0,totalVideos:0,isPremium:f.profile.is_premium}),!0}return!1}catch(x){return console.error("Login error:",x),!1}finally{t(!1)}},register:async b=>{var u;t(!0);try{if((await Y.signUp(b.email,b.password,b.username,b.username)).success){const{data:x}=await Y.getCurrentUser();return x!=null&&x.profile&&a({id:x.profile.id,username:x.profile.username,email:((u=x.user)==null?void 0:u.email)||"",avatar:x.profile.avatar_url||"",isAdmin:!1,subscribers:x.profile.subscriber_count,verified:!1,joinDate:x.profile.created_at,totalViews:0,totalVideos:0,isPremium:x.profile.is_premium}),!0}return!1}catch(j){return console.error("Register error:",j),!1}finally{t(!1)}},logout:async()=>{await Y.signOut(),a(null)},isAuthenticated:!!r,isAdmin:(r==null?void 0:r.isAdmin)||!1,loading:i};return e.jsx(ps.Provider,{value:c,children:s})},bs=h.createContext(void 0),H=()=>{const s=h.useContext(bs);if(!s)throw new Error("useVideo must be used within a VideoProvider");return s},yt=[{id:"1",title:"آموزش کامل React و TypeScript - پروژه عملی ویتیمو",thumbnail:"https://images.pexels.com/photos/270404/pexels-photo-270404.jpeg?auto=compress&cs=tinysrgb&w=800",duration:"25:45",views:125e3,uploadDate:"2024-01-15",channel:{id:"ch1",name:"آکادمی کدنویسی",avatar:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=100",verified:!0},description:"در این ویدیو کامل، یاد می‌گیرید چگونه یک پلتفرم ویدیویی مشابه یوتیوب با React و TypeScript بسازید. شامل تمام ویژگی‌های پیشرفته مانند پخش زنده، کیف پول و پنل مدیریت.",likes:8500,dislikes:120,category:"Technology",tags:["react","typescript","tutorial","programming","vitimo"],status:"published",isPremium:!0,hasSubtitles:!0,quality:["720p","1080p","1440p","2160p"],monetized:!0,earnings:45e3},{id:"2",title:"راهنمای کامل کسب درآمد از ویدیو در ویتیمو",thumbnail:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=800",duration:"18:30",views:89e3,uploadDate:"2024-01-12",channel:{id:"ch2",name:"کسب و کار دیجیتال",avatar:"https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg?auto=compress&cs=tinysrgb&w=100",verified:!0},description:"یاد بگیرید چگونه از ویدیوهای خود در ویتیمو درآمد کسب کنید. از تنظیمات کسب درآمد تا استراتژی‌های افزایش بازدید.",likes:6200,dislikes:85,category:"Business",tags:["monetization","earnings","business","vitimo"],status:"published",hasSubtitles:!0,quality:["720p","1080p"],monetized:!0,earnings:32e3},{id:"3",title:"پخش زنده: بررسی آیفون ۱۵ پرو مکس",thumbnail:"https://images.pexels.com/photos/404280/pexels-photo-404280.jpeg?auto=compress&cs=tinysrgb&w=800",duration:"45:20",views:234e3,uploadDate:"2024-01-10",channel:{id:"ch3",name:"تک‌ریویو",avatar:"https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=100",verified:!0},description:"بررسی کامل و جامع آیفون ۱۵ پرو مکس در پخش زنده. تست‌های عملکرد، دوربین، باتری و مقایسه با رقبا.",likes:15600,dislikes:340,category:"Technology",tags:["iphone","review","technology","live"],status:"published",hasSubtitles:!0,quality:["720p","1080p","1440p"],monetized:!0,earnings:78e3},{id:"4",title:"پادکست: آینده هوش مصنوعی در ایران",thumbnail:"https://images.pexels.com/photos/3861969/pexels-photo-3861969.jpeg?auto=compress&cs=tinysrgb&w=800",duration:"52:15",views:67e3,uploadDate:"2024-01-08",channel:{id:"ch4",name:"پادکست تکنولوژی",avatar:"https://images.pexels.com/photos/1040881/pexels-photo-1040881.jpeg?auto=compress&cs=tinysrgb&w=100",verified:!1},description:"گفتگو با متخصصان هوش مصنوعی درباره آینده این تکنولوژی در ایران و فرصت‌های شغلی آن.",likes:4200,dislikes:45,category:"Technology",tags:["ai","podcast","technology","iran","future"],status:"published",hasSubtitles:!0,quality:["720p","1080p"],monetized:!0,earnings:28e3},{id:"5",title:"آموزش آشپزی: کباب کوبیده اصل ایرانی",thumbnail:"https://images.pexels.com/photos/1279330/pexels-photo-1279330.jpeg?auto=compress&cs=tinysrgb&w=800",duration:"15:40",views:156e3,uploadDate:"2024-01-05",channel:{id:"ch5",name:"آشپزخانه مامان",avatar:"https://images.pexels.com/photos/733872/pexels-photo-733872.jpeg?auto=compress&cs=tinysrgb&w=100",verified:!0},description:"یاد بگیرید چگونه کباب کوبیده اصل ایرانی درست کنید. از انتخاب گوشت تا نکات پخت روی آتش.",likes:12400,dislikes:180,category:"Cooking",tags:["cooking","iranian","kebab","recipe"],status:"published",hasSubtitles:!1,quality:["720p","1080p"],monetized:!0,earnings:52e3},{id:"6",title:"بازی FIFA 24 - مسابقه آنلاین با بینندگان",thumbnail:"https://images.pexels.com/photos/442576/pexels-photo-442576.jpeg?auto=compress&cs=tinysrgb&w=800",duration:"1:35:20",views:89e3,uploadDate:"2024-01-03",channel:{id:"ch6",name:"گیمر پرو",avatar:"https://images.pexels.com/photos/1040881/pexels-photo-1040881.jpeg?auto=compress&cs=tinysrgb&w=100",verified:!0},description:"مسابقه آنلاین FIFA 24 با بینندگان. شما هم می‌تونید شرکت کنید و جایزه ببرید!",likes:7800,dislikes:95,category:"Gaming",tags:["fifa","gaming","online","competition"],status:"published",isPremium:!1,hasSubtitles:!1,quality:["720p","1080p","1440p"],monetized:!0,earnings:35e3}],vt=({children:s})=>{const[r,a]=h.useState(yt),[i,t]=h.useState(!1),[o,d]=h.useState(null),[m,c]=h.useState(""),[b,u]=h.useState("Home"),g={videos:r,loading:i,error:o,searchQuery:m,setSearchQuery:c,selectedCategory:b,setSelectedCategory:u,getVideoById:C=>r.find(y=>y.id===C),addVideo:C=>{const y={...C,id:Date.now().toString(),uploadDate:new Date().toISOString().split("T")[0],views:0,likes:0,dislikes:0};a(N=>[y,...N])},updateVideoStatus:(C,y)=>{a(N=>N.map(P=>P.id===C?{...P,status:y}:P))},deleteVideo:C=>{a(y=>y.filter(N=>N.id!==C))},searchVideos:C=>r.filter(y=>y.title.toLowerCase().includes(C.toLowerCase())||y.description.toLowerCase().includes(C.toLowerCase())||y.tags.some(N=>N.toLowerCase().includes(C.toLowerCase()))||y.channel.name.toLowerCase().includes(C.toLowerCase())),fetchVideos:async C=>{var y;t(!0),d(null);try{const N=await ne.getVideos(C);N.success&&((y=N.data)!=null&&y.videos)&&a(N.data.videos)}catch(N){d(N.message||"خطا در دریافت ویدیوها")}finally{t(!1)}},likeVideo:async C=>{try{const y=await ne.likeVideo(C);y.success&&a(N=>N.map(P=>{var G;return P.id===C?{...P,likes:((G=y.data)==null?void 0:G.likes)||P.likes+1}:P}))}catch(y){console.error("Like video error:",y)}},dislikeVideo:async C=>{try{const y=await ne.dislikeVideo(C);y.success&&a(N=>N.map(P=>{var G;return P.id===C?{...P,dislikes:((G=y.data)==null?void 0:G.dislikes)||P.dislikes+1}:P}))}catch(y){console.error("Dislike video error:",y)}}};return e.jsx(bs.Provider,{value:g,children:s})},Nt={fa:{"header.search":"جستجوی ویدیوها، کانال‌ها و پادکست‌ها...","header.upload":"آپلود ویدیو","header.live":"پخش زنده","header.notifications":"اعلان‌ها","header.signin":"ورود","header.signout":"خروج","header.profile":"پروفایل من","header.admin":"پنل مدیریت","header.wallet":"کیف پول","sidebar.home":"خانه","sidebar.trending":"ترند","sidebar.subscriptions":"اشتراک‌ها","sidebar.library":"کتابخانه","sidebar.history":"تاریخچه","sidebar.watchLater":"تماشا بعداً","sidebar.likedVideos":"ویدیوهای پسندیده","sidebar.playlists":"پلی‌لیست‌ها","sidebar.live":"پخش زنده","sidebar.podcasts":"پادکست‌ها","sidebar.premium":"اشتراک ویژه","sidebar.rewards":"پاداش‌ها","sidebar.wallet":"کیف پول","sidebar.categories":"دسته‌بندی‌ها","sidebar.music":"موسیقی","sidebar.gaming":"بازی","sidebar.sports":"ورزش","sidebar.news":"اخبار","sidebar.education":"آموزش","sidebar.technology":"تکنولوژی","sidebar.entertainment":"سرگرمی","video.views":"بازدید","video.subscribers":"مشترک","video.like":"پسندیدن","video.dislike":"نپسندیدن","video.share":"اشتراک‌گذاری","video.download":"دانلود","video.save":"ذخیره","video.subscribe":"اشتراک","video.subscribed":"عضو شده","video.comments":"نظرات","video.addComment":"نظر خود را بنویسید...","video.comment":"ارسال نظر","video.quality":"کیفیت","video.speed":"سرعت پخش","video.subtitles":"زیرنویس","video.fullscreen":"تمام صفحه","video.pip":"تصویر در تصویر","upload.title":"آپلود ویدیو","upload.selectFile":"انتخاب فایل ویدیو","upload.dragDrop":"یا فایل را اینجا بکشید","upload.videoTitle":"عنوان ویدیو","upload.description":"توضیحات","upload.category":"دسته‌بندی","upload.tags":"برچسب‌ها (با کاما جدا کنید)","upload.thumbnail":"تصویر شاخص","upload.privacy":"حریم خصوصی","upload.monetization":"کسب درآمد","upload.subtitles":"زیرنویس","upload.cancel":"لغو","upload.publish":"انتشار","upload.draft":"پیش‌نویس","login.title":"ورود به ویتیمو","login.subtitle":"به پلتفرم ویدیویی حرفه‌ای خوش آمدید","login.email":"ایمیل","login.password":"رمز عبور","login.signin":"ورود","login.signup":"ثبت نام","login.forgotPassword":"فراموشی رمز عبور","login.demo":"حساب‌های نمونه:","login.admin":"مدیر","login.user":"کاربر","premium.title":"اشتراک ویژه ویتیمو","premium.subtitle":"تجربه بی‌نظیر تماشای ویدیو و پادکست","premium.noAds":"بدون تبلیغات","premium.hd":"کیفیت 4K","premium.offline":"تماشای آفلاین","premium.exclusive":"محتوای اختصاصی","premium.earlyAccess":"دسترسی زودهنگام","premium.prioritySupport":"پشتیبانی اولویت‌دار","premium.price":"۱۹۹,۰۰۰ تومان/ماه","premium.subscribe":"خرید اشتراک","premium.freeTrial":"آزمایش رایگان ۷ روزه","rewards.title":"پاداش‌ها و امتیازات","rewards.subtitle":"امتیاز جمع کنید و جوایز نقدی بگیرید","rewards.points":"امتیاز شما","rewards.balance":"موجودی","rewards.watchVideo":"تماشای ویدیو","rewards.uploadVideo":"آپلود ویدیو","rewards.shareVideo":"اشتراک‌گذاری","rewards.dailyLogin":"ورود روزانه","rewards.invite":"دعوت دوستان","rewards.review":"نظر و امتیاز","wallet.title":"کیف پول ریالی","wallet.balance":"موجودی","wallet.deposit":"واریز","wallet.withdraw":"برداشت","wallet.history":"تاریخچه تراکنش‌ها","wallet.earnings":"درآمد از ویدیوها","wallet.rewards":"درآمد از پاداش‌ها","wallet.bankAccount":"حساب بانکی","wallet.cardNumber":"شماره کارت","wallet.amount":"مبلغ (تومان)","live.title":"پخش زنده","live.startStream":"شروع پخش زنده","live.viewers":"بیننده","live.chat":"چت زنده","live.settings":"تنظیمات پخش","live.quality":"کیفیت پخش","live.endStream":"پایان پخش","podcasts.title":"پادکست‌ها","podcasts.episodes":"قسمت","podcasts.duration":"مدت زمان","podcasts.play":"پخش","podcasts.pause":"توقف","podcasts.subscribe":"اشتراک در پادکست","admin.dashboard":"داشبورد","admin.users":"مدیریت کاربران","admin.videos":"مدیریت ویدیوها","admin.analytics":"آمار و تحلیل","admin.live":"مدیریت پخش زنده","admin.wallet":"مدیریت کیف پول","admin.revenue":"درآمد کل","admin.totalUsers":"کل کاربران","admin.totalVideos":"کل ویدیوها","admin.totalViews":"کل بازدیدها","admin.pendingReview":"در انتظار بررسی","admin.monetization":"تنظیمات کسب درآمد","common.loading":"در حال بارگذاری...","common.error":"خطا","common.success":"موفق","common.cancel":"لغو","common.save":"ذخیره","common.delete":"حذف","common.edit":"ویرایش","common.view":"مشاهده","common.back":"بازگشت","common.next":"بعدی","common.previous":"قبلی","common.search":"جستجو","common.filter":"فیلتر","common.sort":"مرتب‌سازی","common.settings":"تنظیمات"},en:{"header.search":"Search videos, channels, and podcasts...","header.upload":"Upload Video","header.live":"Go Live","header.notifications":"Notifications","header.signin":"Sign In","header.signout":"Sign Out","header.profile":"My Profile","header.admin":"Admin Panel","header.wallet":"Wallet","sidebar.home":"Home","sidebar.trending":"Trending","sidebar.subscriptions":"Subscriptions","sidebar.library":"Library","sidebar.history":"History","sidebar.watchLater":"Watch Later","sidebar.likedVideos":"Liked Videos","sidebar.playlists":"Playlists","sidebar.live":"Live","sidebar.podcasts":"Podcasts","sidebar.premium":"Premium","sidebar.rewards":"Rewards","sidebar.wallet":"Wallet","sidebar.categories":"Categories","sidebar.music":"Music","sidebar.gaming":"Gaming","sidebar.sports":"Sports","sidebar.news":"News","sidebar.education":"Education","sidebar.technology":"Technology","sidebar.entertainment":"Entertainment","video.views":"views","video.subscribers":"subscribers","video.like":"Like","video.dislike":"Dislike","video.share":"Share","video.download":"Download","video.save":"Save","video.subscribe":"Subscribe","video.subscribed":"Subscribed","video.comments":"Comments","video.addComment":"Add a public comment...","video.comment":"Comment","video.quality":"Quality","video.speed":"Playback Speed","video.subtitles":"Subtitles","video.fullscreen":"Fullscreen","video.pip":"Picture in Picture","upload.title":"Upload Video","upload.selectFile":"Select Video File","upload.dragDrop":"Or drag and drop a file","upload.videoTitle":"Video Title","upload.description":"Description","upload.category":"Category","upload.tags":"Tags (comma separated)","upload.thumbnail":"Thumbnail","upload.privacy":"Privacy","upload.monetization":"Monetization","upload.subtitles":"Subtitles","upload.cancel":"Cancel","upload.publish":"Publish","upload.draft":"Save as Draft","login.title":"Sign in to Vitimo","login.subtitle":"Welcome to the professional video platform","login.email":"Email","login.password":"Password","login.signin":"Sign In","login.signup":"Sign Up","login.forgotPassword":"Forgot Password","login.demo":"Demo Accounts:","login.admin":"Admin","login.user":"User","premium.title":"Vitimo Premium","premium.subtitle":"Ultimate video and podcast experience","premium.noAds":"Ad-free","premium.hd":"4K Quality","premium.offline":"Offline Viewing","premium.exclusive":"Exclusive Content","premium.earlyAccess":"Early Access","premium.prioritySupport":"Priority Support","premium.price":"$19.99/month","premium.subscribe":"Subscribe Now","premium.freeTrial":"7-day Free Trial","rewards.title":"Rewards & Points","rewards.subtitle":"Earn points and get cash rewards","rewards.points":"Your Points","rewards.balance":"Balance","rewards.watchVideo":"Watch Video","rewards.uploadVideo":"Upload Video","rewards.shareVideo":"Share Video","rewards.dailyLogin":"Daily Login","rewards.invite":"Invite Friends","rewards.review":"Rate & Review","wallet.title":"Rial Wallet","wallet.balance":"Balance","wallet.deposit":"Deposit","wallet.withdraw":"Withdraw","wallet.history":"Transaction History","wallet.earnings":"Video Earnings","wallet.rewards":"Reward Earnings","wallet.bankAccount":"Bank Account","wallet.cardNumber":"Card Number","wallet.amount":"Amount (Rial)","live.title":"Live Streaming","live.startStream":"Start Live Stream","live.viewers":"viewers","live.chat":"Live Chat","live.settings":"Stream Settings","live.quality":"Stream Quality","live.endStream":"End Stream","podcasts.title":"Podcasts","podcasts.episodes":"episodes","podcasts.duration":"Duration","podcasts.play":"Play","podcasts.pause":"Pause","podcasts.subscribe":"Subscribe to Podcast","admin.dashboard":"Dashboard","admin.users":"User Management","admin.videos":"Video Management","admin.analytics":"Analytics","admin.live":"Live Management","admin.wallet":"Wallet Management","admin.revenue":"Total Revenue","admin.totalUsers":"Total Users","admin.totalVideos":"Total Videos","admin.totalViews":"Total Views","admin.pendingReview":"Pending Review","admin.monetization":"Monetization Settings","common.loading":"Loading...","common.error":"Error","common.success":"Success","common.cancel":"Cancel","common.save":"Save","common.delete":"Delete","common.edit":"Edit","common.view":"View","common.back":"Back","common.next":"Next","common.previous":"Previous","common.search":"Search","common.filter":"Filter","common.sort":"Sort","common.settings":"Settings"}},js=h.createContext(void 0),$=()=>{const s=h.useContext(js);if(!s)throw new Error("useLanguage must be used within a LanguageProvider");return s},wt=({children:s})=>{const[r,a]=h.useState("fa"),i=d=>Nt[r][d]||d,t=r==="fa",o={language:r,setLanguage:a,t:i,isRTL:t};return e.jsx(js.Provider,{value:o,children:e.jsx("div",{dir:t?"rtl":"ltr",className:`font-${r}`,children:s})})},fs=h.createContext(void 0),ge=()=>{const s=h.useContext(fs);if(!s)throw new Error("useWallet must be used within a WalletProvider");return s},kt=({children:s})=>{const[r,a]=h.useState(245e3),[i,t]=h.useState(!1),[o,d]=h.useState(null),[m,c]=h.useState([{id:"1",type:"earning",amount:5e4,description:'درآمد از ویدیو "آموزش React"',date:"2024-01-15",status:"completed"},{id:"2",type:"reward",amount:25e3,description:"پاداش ورود روزانه",date:"2024-01-14",status:"completed"},{id:"3",type:"deposit",amount:1e5,description:"واریز از کارت بانکی",date:"2024-01-13",status:"completed"},{id:"4",type:"withdraw",amount:75e3,description:"برداشت به حساب بانکی",date:"2024-01-12",status:"completed"}]),b=async()=>{var n;t(!0),d(null);try{const v=await ue.getBalance();v.success&&((n=v.data)==null?void 0:n.balance)!==void 0&&a(v.data.balance)}catch(v){d(v.message||"خطا در دریافت موجودی")}finally{t(!1)}},u=async()=>{var n;t(!0),d(null);try{const v=await ue.getTransactions();v.success&&((n=v.data)!=null&&n.transactions)&&c(v.data.transactions)}catch(v){d(v.message||"خطا در دریافت تراکنش‌ها")}finally{t(!1)}},l={balance:r,transactions:m,loading:i,error:o,deposit:async n=>{t(!0),d(null);try{return(await ue.deposit(n,"card")).success?(await b(),await u(),!0):!1}catch(v){return d(v.message||"خطا در واریز"),!1}finally{t(!1)}},withdraw:async(n,v)=>{t(!0),d(null);try{return(await ue.withdraw(n,v)).success?(await b(),await u(),!0):!1}catch(k){return d(k.message||"خطا در برداشت"),!1}finally{t(!1)}},addEarning:(n,v)=>{const k={id:Date.now().toString(),type:"earning",amount:n,description:v,date:new Date().toISOString().split("T")[0],status:"completed"};c(g=>[k,...g]),a(g=>g+n)},addReward:(n,v)=>{const k={id:Date.now().toString(),type:"reward",amount:n,description:v,date:new Date().toISOString().split("T")[0],status:"completed"};c(g=>[k,...g]),a(g=>g+n)},fetchBalance:b,fetchTransactions:u};return e.jsx(fs.Provider,{value:l,children:s})},ys=h.createContext(void 0),Ue=()=>{const s=h.useContext(ys);if(!s)throw new Error("useLive must be used within a LiveProvider");return s},St=[{id:"1",title:"آموزش برنامه‌نویسی React - پخش زنده",thumbnail:"https://images.pexels.com/photos/270404/pexels-photo-270404.jpeg?auto=compress&cs=tinysrgb&w=800",streamer:{id:"str1",name:"کدنویس حرفه‌ای",avatar:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=100",verified:!0},viewers:1250,isLive:!0,category:"Technology",startTime:"2024-01-15T10:00:00Z",description:"آموزش کامل React از صفر تا صد",tags:["react","programming","tutorial","live"]},{id:"2",title:"بازی FIFA 24 - مسابقه زنده",thumbnail:"https://images.pexels.com/photos/442576/pexels-photo-442576.jpeg?auto=compress&cs=tinysrgb&w=800",streamer:{id:"str2",name:"گیمر پرو",avatar:"https://images.pexels.com/photos/1040881/pexels-photo-1040881.jpeg?auto=compress&cs=tinysrgb&w=100",verified:!0},viewers:3420,isLive:!0,category:"Gaming",startTime:"2024-01-15T14:30:00Z",description:"مسابقه آنلاین FIFA 24",tags:["fifa","gaming","live","competition"]}],Ct=({children:s})=>{const[r,a]=h.useState(St),[i,t]=h.useState(null),[o,d]=h.useState(!1),j={liveStreams:r,currentStream:i,isStreaming:o,startStream:x=>{const f={...x,id:Date.now().toString(),viewers:0,isLive:!0,startTime:new Date().toISOString()};a(p=>[f,...p]),t(f),d(!0)},endStream:()=>{i&&(a(x=>x.map(f=>f.id===i.id?{...f,isLive:!1}:f)),t(null),d(!1))},joinStream:x=>{const f=r.find(p=>p.id===x);f&&(t(f),a(p=>p.map(l=>l.id===x?{...l,viewers:l.viewers+1}:l)))},leaveStream:()=>{i&&(a(x=>x.map(f=>f.id===i.id?{...f,viewers:Math.max(0,f.viewers-1)}:f)),t(null))}};return e.jsx(ys.Provider,{value:j,children:s})},Pt=()=>{const{language:s,setLanguage:r}=$(),[a,i]=h.useState(!1),t=[{code:"fa",name:"فارسی",flag:"🇮🇷"},{code:"en",name:"English",flag:"🇺🇸"}],o=t.find(m=>m.code===s),d=m=>{r(m),i(!1)};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>i(!a),className:"flex items-center space-x-2 px-3 py-2 bg-dark-secondary hover:bg-dark-tertiary rounded-lg transition-colors border border-dark-tertiary",children:[e.jsx(Ye,{className:"w-4 h-4 text-vitimo-600"}),e.jsxs("span",{className:"text-sm font-medium text-white",children:[o==null?void 0:o.flag," ",o==null?void 0:o.name]}),e.jsx(Ps,{className:`w-4 h-4 text-text-muted transition-transform ${a?"rotate-180":""}`})]}),a&&e.jsx("div",{className:"absolute top-full mt-2 right-0 bg-dark-secondary border border-dark-tertiary rounded-xl shadow-dark z-50 min-w-[150px]",children:t.map(m=>e.jsxs("button",{onClick:()=>d(m.code),className:`w-full flex items-center space-x-3 px-4 py-3 text-right hover:bg-dark-tertiary transition-colors first:rounded-t-xl last:rounded-b-xl ${s===m.code?"bg-vitimo-900/20 text-vitimo-400":"text-white"}`,children:[e.jsx("span",{className:"text-lg",children:m.flag}),e.jsx("span",{className:"font-medium",children:m.name})]},m.code))})]})},Dt=()=>{const{user:s,logout:r,isAuthenticated:a,isAdmin:i}=z(),{searchQuery:t,setSearchQuery:o}=H(),{balance:d}=ge(),{t:m,isRTL:c}=$(),b=xe(),[u,j]=h.useState(!1),[x,f]=h.useState(!0),p=k=>{k.preventDefault(),t.trim()&&b(`/search?q=${encodeURIComponent(t)}`)},l=()=>{r(),j(!1),b("/")},n=()=>{f(!x),document.documentElement.classList.toggle("dark")},v=k=>new Intl.NumberFormat("fa-IR").format(k);return e.jsx("header",{className:"vitimo-header px-4 lg:px-6 py-3 sticky top-0 z-50",children:e.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[e.jsxs("div",{className:`flex items-center space-x-4 ${c?"space-x-reverse":""}`,children:[e.jsx("button",{className:"p-2 hover:bg-dark-tertiary rounded-lg transition-colors lg:hidden",children:e.jsx(Ds,{className:"w-5 h-5 text-white"})}),e.jsxs(D,{to:"/",className:`flex items-center space-x-3 ${c?"space-x-reverse":""}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-purple rounded-xl flex items-center justify-center shadow-purple",children:e.jsx(I,{className:"w-6 h-6 text-white fill-current"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-gold rounded-full flex items-center justify-center",children:e.jsx(E,{className:"w-2.5 h-2.5 text-gray-900"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-2xl font-bold text-white",children:"ویتیمو"}),e.jsx("div",{className:"text-xs text-gold-600 font-bold",children:"Premium"})]})]})]}),e.jsx("form",{onSubmit:p,className:"flex-1 max-w-2xl mx-4 lg:mx-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:t,onChange:k=>o(k.target.value),placeholder:m("header.search"),className:`input w-full rounded-full ${c?"pr-12":"pl-4 pr-12"}`}),e.jsx("button",{type:"submit",className:`absolute top-1/2 transform -translate-y-1/2 p-2 text-text-muted hover:text-purple transition-colors ${c?"left-2":"right-2"}`,children:e.jsx(fe,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:`flex items-center space-x-2 lg:space-x-4 ${c?"space-x-reverse":""}`,children:[e.jsx("button",{onClick:n,className:"p-2 hover:bg-dark-tertiary rounded-lg transition-colors",title:"تغییر تم",children:x?e.jsx(Ts,{className:"w-5 h-5 text-white"}):e.jsx(As,{className:"w-5 h-5 text-white"})}),e.jsx(Pt,{}),a?e.jsxs(e.Fragment,{children:[e.jsxs(D,{to:"/wallet",className:"hidden lg:flex items-center space-x-2 px-3 py-2 bg-gradient-purple text-white rounded-lg hover:shadow-purple transition-all transform hover:scale-105",title:m("header.wallet"),children:[e.jsx(U,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-bold text-sm",children:[v(d)," ریال"]})]}),e.jsxs(D,{to:"/premium",className:"hidden lg:flex items-center space-x-2 px-3 py-2 bg-gradient-gold text-gray-900 rounded-lg hover:shadow-gold transition-all transform hover:scale-105",title:m("sidebar.premium"),children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{className:"font-bold text-sm",children:m("sidebar.premium")})]}),e.jsxs(D,{to:"/rewards",className:"p-2 hover:bg-dark-tertiary rounded-lg transition-colors relative",title:m("sidebar.rewards"),children:[e.jsx(Re,{className:"w-5 h-5 text-gold-600"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-gold-500 rounded-full animate-pulse"})]}),e.jsxs(D,{to:"/live",className:"hidden lg:flex items-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-all transform hover:scale-105",title:m("header.live"),children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:m("header.live")})]}),e.jsx(D,{to:"/upload",className:"p-2 hover:bg-dark-tertiary rounded-lg transition-colors",title:m("header.upload"),children:e.jsx(Ee,{className:"w-5 h-5 text-white"})}),e.jsxs("button",{className:"p-2 hover:bg-dark-tertiary rounded-lg transition-colors relative",children:[e.jsx(Xe,{className:"w-5 h-5 text-white"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>j(!u),className:"flex items-center space-x-2 p-1 hover:bg-dark-tertiary rounded-lg transition-colors",children:e.jsx("img",{src:s==null?void 0:s.avatar,alt:s==null?void 0:s.username,className:"w-8 h-8 rounded-full border-2 border-vitimo-500"})}),u&&e.jsxs("div",{className:`absolute top-full mt-2 w-64 bg-dark-secondary border border-dark-tertiary rounded-xl shadow-dark z-50 ${c?"left-0":"right-0"}`,children:[e.jsx("div",{className:"p-4 border-b border-dark-tertiary bg-gradient-purple rounded-t-xl",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:s==null?void 0:s.avatar,alt:s==null?void 0:s.username,className:"w-12 h-12 rounded-full border-2 border-white"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-white",children:s==null?void 0:s.username}),e.jsx("p",{className:"text-sm text-gray-200",children:s==null?void 0:s.email}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(U,{className:"w-3 h-3 text-gold-600"}),e.jsxs("span",{className:"text-xs font-bold text-gold-600",children:[v(d)," ریال"]})]})]})]})}),e.jsxs("div",{className:"py-2",children:[e.jsxs(D,{to:`/profile/${s==null?void 0:s.id}`,className:"flex items-center space-x-3 px-4 py-3 text-white hover:bg-dark-tertiary transition-colors",onClick:()=>j(!1),children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsx("span",{children:m("header.profile")})]}),e.jsxs(D,{to:"/wallet",className:"flex items-center space-x-3 px-4 py-3 text-white hover:bg-dark-tertiary transition-colors",onClick:()=>j(!1),children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:m("header.wallet")})]}),i&&e.jsxs(D,{to:"/admin",className:"flex items-center space-x-3 px-4 py-3 text-white hover:bg-dark-tertiary transition-colors",onClick:()=>j(!1),children:[e.jsx(ye,{className:"w-4 h-4"}),e.jsx("span",{children:m("header.admin")})]}),e.jsx("div",{className:"border-t border-dark-tertiary my-2"}),e.jsx("button",{onClick:l,className:"flex items-center space-x-3 w-full px-4 py-3 text-red-400 hover:bg-dark-tertiary transition-colors",children:e.jsx("span",{children:m("header.signout")})})]})]})]})]}):e.jsxs(D,{to:"/login",className:`flex items-center space-x-2 px-4 py-2 bg-gradient-purple text-white rounded-xl hover:shadow-purple transition-all transform hover:scale-105 font-bold ${c?"space-x-reverse":""}`,children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsx("span",{children:m("header.signin")})]})]})]})})},Tt=()=>{const{selectedCategory:s,setSelectedCategory:r}=H(),{t:a,isRTL:i}=$(),{isAuthenticated:t}=z(),{balance:o}=ge(),d=Je(),m=[{name:"Home",key:"sidebar.home",icon:Ze,to:"/"},{name:"Trending",key:"sidebar.trending",icon:q,to:"/trending"}],c=[{name:"Subscriptions",key:"sidebar.subscriptions",icon:M,to:"/subscriptions"},{name:"Library",key:"sidebar.library",icon:Vs,to:"/library"},{name:"History",key:"sidebar.history",icon:K,to:"/history"},{name:"Watch Later",key:"sidebar.watchLater",icon:K,to:"/watch-later"},{name:"Liked Videos",key:"sidebar.likedVideos",icon:Ie,to:"/liked"},{name:"Playlists",key:"sidebar.playlists",icon:pe,to:"/playlists"}],b=[{name:"Live",key:"sidebar.live",icon:F,to:"/live"},{name:"Podcasts",key:"sidebar.podcasts",icon:me,to:"/podcasts"}],u=[{name:"Premium",key:"sidebar.premium",icon:E,to:"/premium",gradient:!0},{name:"Rewards",key:"sidebar.rewards",icon:Re,to:"/rewards",gold:!0},{name:"Wallet",key:"sidebar.wallet",icon:U,to:"/wallet",vitimo:!0}],j=[{name:"Music",key:"sidebar.music",icon:Ls},{name:"Gaming",key:"sidebar.gaming",icon:$s},{name:"Sports",key:"sidebar.sports",icon:es},{name:"News",key:"sidebar.news",icon:Fs},{name:"Education",key:"sidebar.education",icon:Rs},{name:"Technology",key:"sidebar.technology",icon:Es},{name:"Entertainment",key:"sidebar.entertainment",icon:Is}],x=l=>new Intl.NumberFormat("fa-IR").format(l),f=l=>d.pathname===l,p=({item:l,isCategory:n=!1,onClick:v})=>{const k=l.icon,g=n?s===l.name:f(l.to);return e.jsxs(D,{to:l.to||"#",onClick:v,className:`sidebar-item w-full flex items-center space-x-3 px-4 py-3 transition-all duration-200 ${i?"space-x-reverse":""} ${g?"active":l.gradient?"bg-gradient-purple text-white shadow-purple hover:shadow-lg":l.gold?"bg-gradient-gold text-gray-900 shadow-gold hover:shadow-lg font-bold":l.vitimo?"bg-vitimo-900/20 text-vitimo-300 hover:bg-vitimo-800/30":""} ${l.gradient||l.gold||l.vitimo?"transform hover:scale-105":""}`,children:[e.jsx(k,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"font-medium truncate",children:a(l.key)}),l.name==="Wallet"&&t&&e.jsx("span",{className:"ml-auto text-xs font-bold bg-gold-500/20 text-gold-400 px-2 py-1 rounded-full",children:x(o)}),l.gold&&e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-pulse"})})]})};return e.jsx("aside",{className:`vitimo-sidebar w-64 h-[calc(100vh-73px)] sticky top-[73px] overflow-y-auto hidden lg:block ${i?"border-l border-r-0":""}`,children:e.jsxs("nav",{className:"p-4 space-y-6",children:[e.jsx("div",{className:"space-y-2",children:m.map(l=>e.jsx(p,{item:l},l.name))}),t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border-t border-dark-tertiary pt-4",children:[e.jsx("h3",{className:"text-xs font-bold text-text-muted uppercase tracking-wider mb-3 px-4",children:"کتابخانه"}),e.jsx("div",{className:"space-y-2",children:c.map(l=>e.jsx(p,{item:l},l.name))})]}),e.jsxs("div",{className:"border-t border-dark-tertiary pt-4",children:[e.jsx("h3",{className:"text-xs font-bold text-text-muted uppercase tracking-wider mb-3 px-4",children:"پخش زنده و پادکست"}),e.jsx("div",{className:"space-y-2",children:b.map(l=>e.jsx(p,{item:l},l.name))})]}),e.jsxs("div",{className:"border-t border-dark-tertiary pt-4",children:[e.jsx("h3",{className:"text-xs font-bold text-text-muted uppercase tracking-wider mb-3 px-4",children:"ویژگی‌های ویژه"}),e.jsx("div",{className:"space-y-2",children:u.map(l=>e.jsx(p,{item:l},l.name))})]})]}),e.jsxs("div",{className:"border-t border-dark-tertiary pt-4",children:[e.jsx("h3",{className:"text-xs font-bold text-text-muted uppercase tracking-wider mb-3 px-4",children:a("sidebar.categories")}),e.jsx("div",{className:"space-y-2",children:j.map(l=>e.jsx(p,{item:l,isCategory:!0,onClick:()=>r(l.name)},l.name))})]}),e.jsx("div",{className:"border-t border-dark-tertiary pt-4",children:e.jsxs("div",{className:"text-xs text-text-muted space-y-1 px-4",children:[e.jsx("p",{children:"© 2024 ویتیمو"}),e.jsx("p",{children:"پلتفرم ویدیویی حرفه‌ای"}),e.jsx("p",{children:"نسخه 2.0"})]})})]})})},At=({children:s})=>e.jsxs("div",{className:"vitimo-container",children:[e.jsx(Dt,{}),e.jsxs("div",{className:"flex",children:[e.jsx(Tt,{}),e.jsx("main",{className:"flex-1 p-6 bg-primary",children:s})]})]}),Vt=({children:s})=>{const{user:r,logout:a,isAdmin:i}=z(),t=xe(),o=Je();if(!i)return t("/"),null;const d=()=>{a(),t("/")},m=[{path:"/admin",icon:qe,label:"داشبورد",exact:!0},{path:"/admin/ویدیوها",icon:re,label:"ویدیوها"},{path:"/admin/کابران",icon:M,label:"کابران"},{path:"/admin/آنالیز",icon:qe,label:"آنالیز"}],c=(b,u=!1)=>u?o.pathname===b:o.pathname.startsWith(b);return e.jsxs("div",{className:"min-h-screen bg-gray-900 flex",children:[e.jsxs("aside",{className:"w-64 bg-gray-800 border-r border-gray-700",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-8",children:[e.jsx(Us,{className:"w-8 h-8 text-red-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xl font-bold text-white",children:"ویتیمو"}),e.jsx("p",{className:"text-xs text-gray-400",children:"داشبورد مدیریت"})]})]}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs(D,{to:"/",className:"flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white rounded-lg transition-colors",children:[e.jsx(Ze,{className:"w-5 h-5"}),e.jsx("span",{children:"برگشت به سایت"})]}),m.map(b=>{const u=b.icon;return e.jsxs(D,{to:b.path,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${c(b.path,b.exact)?"bg-red-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[e.jsx(u,{className:"w-5 h-5"}),e.jsx("span",{children:b.label})]},b.path)})]})]}),e.jsxs("div",{className:"absolute bottom-0 w-64 p-6 border-t border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("img",{src:r==null?void 0:r.avatar,alt:r==null?void 0:r.username,className:"w-10 h-10 rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:r==null?void 0:r.username}),e.jsx("p",{className:"text-sm text-gray-400",children:"پنل میریت"})]})]}),e.jsxs("button",{onClick:d,className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[e.jsx(Ms,{className:"w-4 h-4"}),e.jsx("span",{children:"خروج"})]})]})]}),e.jsx("main",{className:"flex-1 p-8",children:s})]})},Me=({video:s,size:r="medium"})=>{var f,p,l,n,v,k;const{t:a,language:i}=$(),[t,o]=h.useState(!1),[d,m]=h.useState(!1),[c,b]=h.useState(!1),u=g=>i==="fa"?g>=1e6?`${(g/1e6).toFixed(1)} میلیون ${a("video.views")}`:g>=1e3?`${(g/1e3).toFixed(1)} هزار ${a("video.views")}`:`${g} ${a("video.views")}`:g>=1e6?`${(g/1e6).toFixed(1)}M ${a("video.views")}`:g>=1e3?`${(g/1e3).toFixed(1)}K ${a("video.views")}`:`${g} ${a("video.views")}`,j=g=>{const C=new Date,y=new Date(g),N=Math.abs(C.getTime()-y.getTime()),P=Math.ceil(N/(1e3*60*60*24));return i==="fa"?P===1?"۱ روز پیش":P<7?`${P} روز پیش`:P<30?`${Math.floor(P/7)} هفته پیش`:P<365?`${Math.floor(P/30)} ماه پیش`:`${Math.floor(P/365)} سال پیش`:P===1?"1 day ago":P<7?`${P} days ago`:P<30?`${Math.floor(P/7)} weeks ago`:P<365?`${Math.floor(P/30)} months ago`:`${Math.floor(P/365)} years ago`},x={small:"h-32",medium:"h-48",large:"h-64"};return e.jsxs("div",{className:"video-card vitimo-card overflow-hidden group",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[e.jsx(D,{to:`/watch/${s.id}`,children:e.jsxs("div",{className:"relative group/thumbnail",children:[e.jsx("img",{src:s.thumbnail_url||"https://images.pexels.com/photos/270404/pexels-photo-270404.jpeg?auto=compress&cs=tinysrgb&w=800",alt:s.title,className:`w-full object-cover transition-transform duration-300 group-hover/thumbnail:scale-105 ${x[r]}`}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover/thumbnail:bg-black/30 transition-all duration-300 flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 group-hover/thumbnail:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-full",children:e.jsx(I,{className:"w-8 h-8 text-white fill-current"})})})}),e.jsxs("span",{className:"absolute bottom-2 right-2 bg-dark-primary/90 text-white text-xs px-2 py-1 rounded backdrop-blur-sm font-medium",children:[Math.floor(s.duration/60),":",(s.duration%60).toString().padStart(2,"0")]}),s.is_premium&&e.jsxs("div",{className:"absolute top-2 left-2 bg-gradient-gold text-gray-900 px-2 py-1 rounded-full text-xs font-bold flex items-center space-x-1",children:[e.jsx(E,{className:"w-3 h-3"}),e.jsx("span",{children:"Premium"})]}),e.jsxs("div",{className:`absolute top-2 right-2 flex flex-col space-y-2 transition-all duration-300 ${t?"opacity-100 translate-x-0":"opacity-0 translate-x-4"}`,children:[e.jsx("button",{onClick:g=>{g.preventDefault(),b(!c)},className:"p-2 bg-dark-primary/70 hover:bg-dark-primary/90 text-white rounded-lg transition-colors backdrop-blur-sm",title:"ذخیره",children:e.jsx(ss,{className:`w-4 h-4 ${c?"fill-current":""}`})}),e.jsx("button",{onClick:g=>{g.preventDefault()},className:"p-2 bg-dark-primary/70 hover:bg-dark-primary/90 text-white rounded-lg transition-colors backdrop-blur-sm",title:"اشتراک‌گذاری",children:e.jsx(oe,{className:"w-4 h-4"})})]})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(D,{to:`/profile/${s.user_id}`,children:e.jsx("img",{src:((f=s.profiles)==null?void 0:f.avatar_url)||"https://ui-avatars.com/api/?name="+encodeURIComponent(((p=s.profiles)==null?void 0:p.username)||"User"),alt:((l=s.profiles)==null?void 0:l.display_name)||"User",className:"w-10 h-10 rounded-full border-2 border-dark-tertiary hover:border-vitimo-500 transition-colors flex-shrink-0"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(D,{to:`/watch/${s.id}`,children:e.jsx("h3",{className:"font-semibold text-white line-clamp-2 hover:text-vitimo-400 transition-colors mb-2 leading-tight",children:s.title})}),e.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[e.jsx(D,{to:`/profile/${s.user_id}`,className:"text-text-secondary text-sm hover:text-white transition-colors font-medium",children:((n=s.profiles)==null?void 0:n.display_name)||((v=s.profiles)==null?void 0:v.username)||"کاربر"}),((k=s.profiles)==null?void 0:k.is_premium)&&e.jsx(E,{className:"w-4 h-4 text-gold-500"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-text-muted text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(R,{className:"w-3 h-3"}),e.jsx("span",{children:u(s.views)})]}),e.jsx("span",{children:"•"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(K,{className:"w-3 h-3"}),e.jsx("span",{children:j(s.created_at)})]})]}),e.jsxs("div",{className:`flex items-center space-x-4 mt-3 transition-all duration-300 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,children:[e.jsxs("button",{onClick:()=>m(!d),className:`flex items-center space-x-1 text-xs transition-colors ${d?"text-red-400":"text-text-muted hover:text-red-400"}`,children:[e.jsx(Ie,{className:`w-3 h-3 ${d?"fill-current":""}`}),e.jsx("span",{children:s.likes})]}),e.jsxs("button",{className:"flex items-center space-x-1 text-xs text-text-muted hover:text-vitimo-400 transition-colors",children:[e.jsx(oe,{className:"w-3 h-3"}),e.jsx("span",{children:"اشتراک"})]}),e.jsxs("button",{className:"flex items-center space-x-1 text-xs text-text-muted hover:text-vitimo-400 transition-colors",children:[e.jsx(se,{className:"w-3 h-3"}),e.jsx("span",{children:"دانلود"})]})]})]})]})})]})},$e=({stream:s})=>{const r=a=>a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(1)}K`:a.toString();return e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden hover:border-red-300 dark:hover:border-red-600 transition-all duration-300 group",children:[e.jsx(D,{to:`/live/${s.id}`,children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsxs("div",{className:"absolute top-3 left-3 flex items-center space-x-2 bg-red-600 text-white px-3 py-1 rounded-full text-xs font-bold",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{children:"زنده"})]}),e.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center space-x-1 bg-black/70 text-white px-2 py-1 rounded text-xs",children:[e.jsx(R,{className:"w-3 h-3"}),e.jsx("span",{children:r(s.viewers)})]}),e.jsx("div",{className:"absolute top-3 right-3 bg-vitimo-600 text-white px-2 py-1 rounded text-xs font-medium",children:s.category})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(D,{to:`/profile/${s.streamer.id}`,children:e.jsx("img",{src:s.streamer.avatar,alt:s.streamer.name,className:"w-10 h-10 rounded-full border-2 border-gray-200 dark:border-gray-700 hover:border-red-500 transition-colors"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(D,{to:`/live/${s.id}`,children:e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white line-clamp-2 hover:text-red-600 transition-colors mb-1",children:s.title})}),e.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[e.jsx(D,{to:`/profile/${s.streamer.id}`,className:"text-gray-600 dark:text-gray-400 text-sm hover:text-gray-900 dark:hover:text-white transition-colors font-medium",children:s.streamer.name}),s.streamer.verified&&e.jsx(O,{className:"w-4 h-4 text-vitimo-500"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 dark:text-gray-400 text-sm",children:[e.jsx(F,{className:"w-3 h-3 text-red-500"}),e.jsx("span",{children:"پخش زنده"}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[r(s.viewers)," بیننده"]})]})]})]})})]})},Fe=({podcast:s})=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden hover:border-vitimo-300 dark:hover:border-vitimo-600 transition-all duration-300 group",children:[e.jsx(D,{to:`/podcast/${s.id}`,children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsxs("div",{className:"absolute top-3 left-3 flex items-center space-x-2 bg-vitimo-600 text-white px-3 py-1 rounded-full text-xs font-bold",children:[e.jsx(me,{className:"w-3 h-3"}),e.jsx("span",{children:"پادکست"})]}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all duration-300 flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-full",children:e.jsx(I,{className:"w-8 h-8 text-white fill-current"})})})}),e.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center space-x-1 bg-black/70 text-white px-2 py-1 rounded text-xs",children:[e.jsx(K,{className:"w-3 h-3"}),e.jsx("span",{children:s.duration})]})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx(D,{to:`/podcast/${s.id}`,children:e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white line-clamp-2 hover:text-vitimo-600 dark:hover:text-vitimo-400 transition-colors mb-2",children:s.title})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm line-clamp-2 mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 dark:text-gray-400 text-sm",children:[e.jsx(M,{className:"w-3 h-3"}),e.jsx("span",{children:s.host})]}),e.jsxs("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:[s.episodes," قسمت"]})]})]})]}),Lt=()=>{const{searchQuery:s,selectedCategory:r}=H();$();const[a,i]=h.useState("videos"),[t,o]=h.useState([]),[d,m]=h.useState([]),[c,b]=h.useState(!0);h.useEffect(()=>{u()},[]);const u=async()=>{try{b(!0);const[p,l]=await Promise.all([ne.getVideos({limit:50}),jt.getStreams()]);p.success&&p.data&&o(p.data),l.success&&l.data&&m(l.data)}catch(p){console.error("Error loading data:",p)}finally{b(!1)}},j=t.filter(p=>{const l=p.title.toLowerCase().includes(s.toLowerCase()),n=r==="All"||r==="Home"||p.category===r,v=p.status==="published";return l&&n&&v}),x=d.filter(p=>p.status==="live"),f=[{id:"videos",label:"ویدیوها",icon:q,count:j.length},{id:"live",label:"پخش زنده",icon:F,count:x.length},{id:"podcasts",label:"پادکست‌ها",icon:me,count:12}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-purple rounded-2xl p-8 text-white relative overflow-hidden shadow-purple-lg",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx(E,{className:"w-8 h-8 text-gold-400"}),e.jsx("h2",{className:"text-3xl font-bold",children:"ویتیمو پریمیوم"})]}),e.jsx("p",{className:"text-xl mb-6 opacity-90",children:"تجربه بی‌نظیر تماشای ویدیو با کیفیت 4K، بدون تبلیغات و محتوای اختصاصی"}),e.jsx("button",{className:"btn-gold",children:"آزمایش رایگان ۷ روزه"})]}),e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gold-400/20 rounded-full -translate-y-32 translate-x-32"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/10 rounded-full translate-y-24 -translate-x-24"})]}),s&&e.jsxs("div",{className:"vitimo-card p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:['نتایج جستجو برای "',s,'"']}),e.jsxs("p",{className:"text-text-secondary",children:[j.length," ویدیو پیدا شد"]})]}),e.jsxs("div",{className:"vitimo-card",children:[e.jsx("div",{className:"flex border-b border-dark-tertiary",children:f.map(p=>{const l=p.icon;return e.jsxs("button",{onClick:()=>i(p.id),className:`flex items-center space-x-3 px-6 py-4 font-medium transition-all ${a===p.id?"text-vitimo-400 border-b-2 border-vitimo-500 bg-vitimo-900/20":"text-text-muted hover:text-white"}`,children:[e.jsx(l,{className:"w-5 h-5"}),e.jsx("span",{children:p.label}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${a===p.id?"bg-vitimo-800/30 text-vitimo-300":"bg-dark-tertiary text-text-muted"}`,children:p.count})]},p.id)})}),e.jsxs("div",{className:"p-6",children:[a==="videos"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[j.map(p=>e.jsx(Me,{video:p},p.id)),j.length===0&&e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsx("p",{className:"text-text-muted text-lg",children:"ویدیویی یافت نشد"})})]}),a==="live"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.map(p=>e.jsx($e,{stream:p},p.id)),x.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(F,{className:"w-16 h-16 text-text-muted mx-auto mb-4"}),e.jsx("p",{className:"text-text-muted text-lg",children:"در حال حاضر پخش زنده‌ای وجود ندارد"})]})]}),a==="podcasts"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(Fe,{podcast:{id:"1",title:"پادکست تکنولوژی",description:"آخرین اخبار دنیای تکنولوژی",thumbnail:"https://images.pexels.com/photos/270404/pexels-photo-270404.jpeg?auto=compress&cs=tinysrgb&w=400",host:"علی احمدی",episodes:25,duration:"45:30"}}),e.jsx(Fe,{podcast:{id:"2",title:"پادکست کسب و کار",description:"راهنمای موفقیت در کسب و کار",thumbnail:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=400",host:"سارا محمدی",episodes:18,duration:"38:15"}})]})]})]})]})},$t=({video:s,autoplay:r=!1})=>{var _e;const a=h.useRef(null),[i,t]=h.useState(r),[o,d]=h.useState(0),[m,c]=h.useState(0),[b,u]=h.useState(1),[j,x]=h.useState(!1),[f,p]=h.useState(!1),[l,n]=h.useState(!0),[v,k]=h.useState(1),[g,C]=h.useState("1080p"),[y,N]=h.useState(!1),[P,G]=h.useState(!1);h.useState("");const Ne=["144p","240p","360p","480p","720p","1080p","1440p","2160p"],we=[.25,.5,.75,1,1.25,1.5,1.75,2];h.useEffect(()=>{const S=a.current;if(!S)return;const L=()=>d(S.currentTime),_=()=>c(S.duration);return S.addEventListener("timeupdate",L),S.addEventListener("loadedmetadata",_),()=>{S.removeEventListener("timeupdate",L),S.removeEventListener("loadedmetadata",_)}},[]);const te=()=>{const S=a.current;S&&(i?S.pause():S.play(),t(!i))},X=S=>{const L=a.current;if(!L)return;const _=parseFloat(S.target.value);L.currentTime=_,d(_)},ke=S=>{const L=a.current;if(!L)return;const _=parseFloat(S.target.value);L.volume=_,u(_),x(_===0)},A=()=>{const S=a.current;S&&(j?(S.volume=b,x(!1)):(S.volume=0,x(!0)))},V=()=>{const S=a.current;S&&(f?document.exitFullscreen():S.requestFullscreen(),p(!f))},J=S=>{const L=a.current;L&&(L.currentTime=Math.max(0,Math.min(m,L.currentTime+S)))},Q=S=>{const L=a.current;L&&(L.playbackRate=S,k(S),N(!1))},W=S=>{C(S),N(!1)},B=S=>{const L=Math.floor(S/60),_=Math.floor(S%60);return`${L}:${_.toString().padStart(2,"0")}`},vs=async()=>{const S=a.current;if(S)try{document.pictureInPictureElement?await document.exitPictureInPicture():await S.requestPictureInPicture()}catch(L){console.error("PiP error:",L)}};return e.jsxs("div",{className:"relative bg-black rounded-xl overflow-hidden group",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[e.jsx("video",{ref:a,className:"w-full aspect-video",poster:s.thumbnail,onClick:te,onPlay:()=>t(!0),onPause:()=>t(!1),children:(_e=s.subtitles)==null?void 0:_e.map(S=>e.jsx("track",{kind:"subtitles",src:S.url,srcLang:S.language,label:S.label},S.language))}),!m&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",children:e.jsx("div",{className:"spinner"})}),e.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent transition-opacity duration-300 ${l?"opacity-100":"opacity-0"}`,children:[e.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-center",children:[e.jsx("h3",{className:"text-white font-bold text-lg truncate",children:s.title}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:vs,className:"p-2 bg-black/50 hover:bg-black/70 text-white rounded-lg transition-colors",title:"Picture in Picture",children:e.jsx(_s,{className:"w-4 h-4"})})})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("button",{onClick:te,className:"p-4 bg-black/50 hover:bg-black/70 text-white rounded-full transition-all transform hover:scale-110",children:i?e.jsx(Te,{className:"w-8 h-8"}):e.jsx(I,{className:"w-8 h-8 ml-1"})})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"range",min:"0",max:m||0,value:o,onChange:X,className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer slider"}),e.jsxs("div",{className:"flex justify-between text-xs text-white mt-1",children:[e.jsx("span",{children:B(o)}),e.jsx("span",{children:B(m)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:te,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:i?e.jsx(Te,{className:"w-5 h-5 text-white"}):e.jsx(I,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>J(-10),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"10 ثانیه قبل",children:e.jsx(ts,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>J(10),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"10 ثانیه بعد",children:e.jsx(as,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:A,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:j?e.jsx(Bs,{className:"w-5 h-5 text-white"}):e.jsx(rs,{className:"w-5 h-5 text-white"})}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:j?0:b,onChange:ke,className:"w-20 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>N(!y),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"تنظیمات",children:e.jsx(ye,{className:"w-5 h-5 text-white"})}),y&&e.jsxs("div",{className:"absolute bottom-full mb-2 right-0 bg-black/90 rounded-lg p-4 min-w-48",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"کیفیت"}),e.jsx("div",{className:"space-y-1",children:Ne.map(S=>e.jsx("button",{onClick:()=>W(S),className:`block w-full text-left px-3 py-2 rounded text-sm transition-colors ${g===S?"bg-vitimo-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:S},S))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"سرعت پخش"}),e.jsx("div",{className:"space-y-1",children:we.map(S=>e.jsxs("button",{onClick:()=>Q(S),className:`block w-full text-left px-3 py-2 rounded text-sm transition-colors ${v===S?"bg-vitimo-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[S,"x"]},S))})]})]})]}),e.jsx("button",{onClick:V,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"تمام صفحه",children:f?e.jsx(qs,{className:"w-5 h-5 text-white"}):e.jsx(Os,{className:"w-5 h-5 text-white"})})]})]})]})]}),P&&e.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 bg-black/80 text-white px-4 py-2 rounded-lg text-center max-w-[80%]",children:"نمونه زیرنویس ویدیو"})]})},Ft=()=>{const{id:s}=Qe(),{getVideoById:r,videos:a}=H(),{isAuthenticated:i,user:t}=z(),{t:o}=$(),[d,m]=h.useState(""),[c,b]=h.useState(!1),[u,j]=h.useState(!1),[x,f]=h.useState(!1),[p,l]=h.useState(!1),n=r(s);if(!n)return e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"ویدیو یافت نشد"})});const v=a.filter(N=>N.id!==n.id&&N.status==="published").slice(0,12),k=N=>N>=1e6?`${(N/1e6).toFixed(1)} میلیون`:N>=1e3?`${(N/1e3).toFixed(1)} هزار`:N.toString(),g=N=>{N.preventDefault(),d.trim()&&m("")},C=()=>{b(!c),u&&j(!1)},y=()=>{j(!u),c&&b(!1)};return e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[e.jsx($t,{video:n,autoplay:!0}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 leading-tight",children:n.title}),e.jsxs("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-medium",children:[k(n.views)," بازدید"]})]}),e.jsx("span",{children:"•"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{children:n.uploadDate})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:C,className:`flex items-center space-x-2 px-4 py-2 rounded-xl transition-all ${c?"bg-vitimo-100 dark:bg-vitimo-900 text-vitimo-600 dark:text-vitimo-400":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300"}`,children:[e.jsx(Ce,{className:`w-4 h-4 ${c?"fill-current":""}`}),e.jsx("span",{className:"font-medium",children:k(n.likes)})]}),e.jsxs("button",{onClick:y,className:`flex items-center space-x-2 px-4 py-2 rounded-xl transition-all ${u?"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-400":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300"}`,children:[e.jsx(Pe,{className:`w-4 h-4 ${u?"fill-current":""}`}),e.jsx("span",{className:"font-medium",children:k(n.dislikes)})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-xl transition-all",children:[e.jsx(oe,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"اشتراک"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-xl transition-all",children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"دانلود"})]}),e.jsx("button",{className:"p-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-xl transition-all",children:e.jsx(ss,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(D,{to:`/profile/${n.channel.id}`,children:e.jsx("img",{src:n.channel.avatar,alt:n.channel.name,className:"w-12 h-12 rounded-full border-2 border-gray-200 dark:border-gray-600 hover:border-vitimo-500 transition-colors"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{to:`/profile/${n.channel.id}`,className:"font-bold text-gray-900 dark:text-white hover:text-vitimo-600 transition-colors",children:n.channel.name}),n.channel.verified&&e.jsx(O,{className:"w-5 h-5 text-vitimo-500"}),n.isPremium&&e.jsx(E,{className:"w-4 h-4 text-gold-500"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"۱.۲ میلیون مشترک"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"p-2 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 rounded-xl transition-colors",children:e.jsx(Xe,{className:"w-4 h-4 text-gray-700 dark:text-gray-300"})}),e.jsx("button",{onClick:()=>f(!x),className:`px-6 py-3 rounded-xl font-bold transition-all transform hover:scale-105 ${x?"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300":"bg-gradient-vitimo text-white shadow-vitimo"}`,children:x?"عضو شده":"اشتراک"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[e.jsx("p",{className:`text-gray-700 dark:text-gray-300 leading-relaxed ${p?"":"line-clamp-3"}`,children:n.description}),e.jsx("button",{onClick:()=>l(!p),className:"text-vitimo-600 dark:text-vitimo-400 font-medium mt-2 hover:underline",children:p?"کمتر نشان بده":"بیشتر نشان بده"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:n.tags.map(N=>e.jsxs("span",{className:"flex items-center space-x-1 text-xs bg-vitimo-100 dark:bg-vitimo-900 text-vitimo-700 dark:text-vitimo-300 px-3 py-1 rounded-full hover:bg-vitimo-200 dark:hover:bg-vitimo-800 transition-colors cursor-pointer",children:[e.jsx(zs,{className:"w-3 h-3"}),e.jsxs("span",{children:["#",N]})]},N))})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:["نظرات (",n.likes+n.dislikes,")"]}),i&&e.jsx("form",{onSubmit:g,className:"mb-8",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("img",{src:t==null?void 0:t.avatar,alt:t==null?void 0:t.username,className:"w-10 h-10 rounded-full border-2 border-gray-200 dark:border-gray-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("textarea",{value:d,onChange:N=>m(N.target.value),placeholder:o("video.addComment"),className:"w-full p-4 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white resize-none focus:outline-none focus:ring-2 focus:ring-vitimo-500 focus:border-transparent transition-all",rows:3}),e.jsx("div",{className:"flex justify-end mt-3",children:e.jsx("button",{type:"submit",disabled:!d.trim(),className:"px-6 py-2 bg-gradient-vitimo text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-vitimo transition-all transform hover:scale-105",children:o("video.comment")})})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("img",{src:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=100",alt:"User",className:"w-10 h-10 rounded-full border-2 border-gray-200 dark:border-gray-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"علی احمدی"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"۲ روز پیش"})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-3",children:"ویدیو فوق‌العاده‌ای بود! خیلی مفید و آموزنده. ممنون از زحماتتون 👏"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-vitimo-600 transition-colors",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{children:"۱۲"})]}),e.jsx("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-red-500 transition-colors",children:e.jsx(Pe,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-gray-500 hover:text-vitimo-600 transition-colors text-sm font-medium",children:"پاسخ"})]})]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("img",{src:"https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg?auto=compress&cs=tinysrgb&w=100",alt:"User",className:"w-10 h-10 rounded-full border-2 border-gray-200 dark:border-gray-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"سارا محمدی"}),e.jsx(O,{className:"w-4 h-4 text-vitimo-500"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"۱ روز پیش"})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-3",children:"عالی بود! منتظر ویدیوهای بعدی هستم. کیفیت تصویر هم فوق‌العاده بود 🔥"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-vitimo-600 transition-colors",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{children:"۸"})]}),e.jsx("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-red-500 transition-colors",children:e.jsx(Pe,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-gray-500 hover:text-vitimo-600 transition-colors text-sm font-medium",children:"پاسخ"})]})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"ویدیوهای مرتبط"}),e.jsx("div",{className:"space-y-4",children:v.slice(0,6).map(N=>e.jsxs("div",{className:"flex space-x-3 group",children:[e.jsx(D,{to:`/watch/${N.id}`,className:"flex-shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:N.thumbnail,alt:N.title,className:"w-32 h-20 object-cover rounded-lg group-hover:opacity-80 transition-opacity"}),e.jsx("span",{className:"absolute bottom-1 right-1 bg-black/80 text-white text-xs px-1 py-0.5 rounded",children:N.duration}),N.isPremium&&e.jsx(E,{className:"absolute top-1 left-1 w-4 h-4 text-gold-400"})]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(D,{to:`/watch/${N.id}`,children:e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white line-clamp-2 group-hover:text-vitimo-600 transition-colors text-sm leading-tight",children:N.title})}),e.jsx(D,{to:`/profile/${N.channel.id}`,className:"text-gray-600 dark:text-gray-400 text-xs hover:text-gray-900 dark:hover:text-white transition-colors mt-1 block",children:N.channel.name}),e.jsxs("div",{className:"text-gray-500 dark:text-gray-400 text-xs mt-1",children:[k(N.views)," بازدید"]})]})]},N.id))})]}),e.jsxs("div",{className:"bg-gradient-gold rounded-xl p-6 text-gray-900",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(E,{className:"w-8 h-8"}),e.jsx("h3",{className:"text-xl font-bold",children:"ویتیمو پریمیوم"})]}),e.jsx("p",{className:"mb-4 opacity-90",children:"تماشای بدون تبلیغات، کیفیت 4K و محتوای اختصاصی"}),e.jsx("button",{className:"w-full bg-gray-900 text-white py-3 rounded-xl font-bold hover:bg-gray-800 transition-colors",children:"آزمایش رایگان"})]})]})]})})};class ae{static async uploadVideo(r,a,i){try{if(!["video/mp4","video/webm","video/quicktime","video/x-msvideo","video/x-matroska"].includes(r.type))return{success:!1,error:"فرمت فایل پشتیبانی نمی‌شود. فقط فایل‌های MP4, WebM, MOV, AVI, MKV مجاز هستند."};const o=500*1024*1024;if(r.size>o)return{success:!1,error:"حجم فایل نباید بیشتر از 500 مگابایت باشد."};const d=r.name.split(".").pop(),m=`${Date.now()}-${Math.random().toString(36).substring(7)}.${d}`,c=`${a}/${m}`,{data:b,error:u}=await w.storage.from("videos").upload(c,r,{cacheControl:"3600",upsert:!1});if(u)return console.error("Upload error:",u),{success:!1,error:"خطا در آپلود فایل: "+u.message};const{data:{publicUrl:j}}=w.storage.from("videos").getPublicUrl(c);return{success:!0,url:j}}catch(t){return console.error("Upload exception:",t),{success:!1,error:"خطای غیرمنتظره در آپلود فایل"}}}static async uploadThumbnail(r,a){try{if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(r.type))return{success:!1,error:"فرمت تصویر پشتیبانی نمی‌شود. فقط JPG, PNG, WebP مجاز هستند."};const t=5*1024*1024;if(r.size>t)return{success:!1,error:"حجم تصویر نباید بیشتر از 5 مگابایت باشد."};const o=r.name.split(".").pop(),d=`${Date.now()}-${Math.random().toString(36).substring(7)}.${o}`,m=`${a}/${d}`,{data:c,error:b}=await w.storage.from("thumbnails").upload(m,r,{cacheControl:"3600",upsert:!1});if(b)return console.error("Thumbnail upload error:",b),{success:!1,error:"خطا در آپلود تصویر: "+b.message};const{data:{publicUrl:u}}=w.storage.from("thumbnails").getPublicUrl(m);return{success:!0,url:u}}catch(i){return console.error("Thumbnail upload exception:",i),{success:!1,error:"خطای غیرمنتظره در آپلود تصویر"}}}static async deleteVideo(r){try{const{error:a}=await w.storage.from("videos").remove([r]);return a?{success:!1,error:a.message}:{success:!0}}catch(a){return{success:!1,error:a.message}}}static async deleteThumbnail(r){try{const{error:a}=await w.storage.from("thumbnails").remove([r]);return a?{success:!1,error:a.message}:{success:!0}}catch(a){return{success:!1,error:a.message}}}static async getVideoDuration(r){return new Promise(a=>{const i=document.createElement("video");i.preload="metadata",i.onloadedmetadata=()=>{window.URL.revokeObjectURL(i.src),a(Math.floor(i.duration))},i.onerror=()=>{a(0)},i.src=URL.createObjectURL(r)})}static formatFileSize(r){if(r===0)return"0 بایت";const a=1024,i=["بایت","کیلوبایت","مگابایت","گیگابایت"],t=Math.floor(Math.log(r)/Math.log(a));return Math.round(r/Math.pow(a,t)*100)/100+" "+i[t]}}const Rt=()=>{const s=xe(),{user:r,isAuthenticated:a}=z(),i=h.useRef(null),t=h.useRef(null),[o,d]=h.useState({title:"",description:"",category:"آموزشی",tags:""}),[m,c]=h.useState(null),[b,u]=h.useState(null),[j,x]=h.useState(""),[f,p]=h.useState(""),[l,n]=h.useState(!1),[v,k]=h.useState(0),[g,C]=h.useState("idle"),[y,N]=h.useState(""),[P,G]=h.useState(!1);if(!a)return s("/login"),null;const Ne=A=>{var W;const V=(W=A.target.files)==null?void 0:W[0];if(!V)return;if(!["video/mp4","video/webm","video/quicktime","video/x-msvideo","video/x-matroska"].includes(V.type)){N("فرمت فایل پشتیبانی نمی‌شود. فقط فایل‌های MP4, WebM, MOV, AVI, MKV مجاز هستند.");return}const Q=500*1024*1024;if(V.size>Q){N("حجم فایل نباید بیشتر از 500 مگابایت باشد.");return}c(V),x(URL.createObjectURL(V)),N("")},we=A=>{var W;const V=(W=A.target.files)==null?void 0:W[0];if(!V)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(V.type)){N("فرمت تصویر پشتیبانی نمی‌شود. فقط JPG, PNG, WebP مجاز هستند.");return}const Q=5*1024*1024;if(V.size>Q){N("حجم تصویر نباید بیشتر از 5 مگابایت باشد.");return}u(V),p(URL.createObjectURL(V)),N("")},te=async A=>{if(A.preventDefault(),N(""),!m){N("لطفاً یک فایل ویدیو انتخاب کنید.");return}n(!0),k(0);try{C("video"),k(10);const V=await ae.uploadVideo(m,r.id);if(!V.success){N(V.error||"خطا در آپلود ویدیو"),n(!1);return}k(50);let J="https://images.pexels.com/photos/270404/pexels-photo-270404.jpeg?auto=compress&cs=tinysrgb&w=800";if(b){C("thumbnail");const B=await ae.uploadThumbnail(b,r.id);B.success&&B.url&&(J=B.url)}k(75);const Q=await ae.getVideoDuration(m);C("saving");const W=o.tags.split(",").map(B=>B.trim()).filter(B=>B);await ne.uploadVideo({title:o.title,description:o.description,category:o.category,tags:W,thumbnail_url:J,video_url:V.url,duration:Q}),k(100),G(!0),setTimeout(()=>{s("/")},2e3)}catch(V){console.error("Upload error:",V),N("خطای غیرمنتظره در آپلود. لطفاً دوباره تلاش کنید.")}finally{n(!1),C("idle")}},X=A=>{d({...o,[A.target.name]:A.target.value})},ke=()=>{switch(g){case"video":return"در حال آپلود ویدیو...";case"thumbnail":return"در حال آپلود تصویر...";case"saving":return"در حال ذخیره اطلاعات...";default:return"در حال پردازش..."}};return e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"آپلود ویدیو"}),e.jsx("button",{onClick:()=>s("/"),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(is,{className:"w-6 h-6 text-gray-400"})})]}),P&&e.jsxs("div",{className:"bg-green-500/20 border border-green-500 text-green-400 px-6 py-4 rounded-lg mb-6 flex items-center",children:[e.jsx(O,{className:"w-6 h-6 ml-3"}),e.jsx("span",{children:"ویدیو با موفقیت آپلود شد! در حال انتقال به صفحه اصلی..."})]}),y&&e.jsx("div",{className:"bg-red-500/20 border border-red-500 text-red-400 px-6 py-4 rounded-lg mb-6",children:y}),l&&e.jsxs("div",{className:"bg-blue-500/20 border border-blue-500 text-blue-400 px-6 py-4 rounded-lg mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{className:"w-5 h-5 animate-spin ml-3"}),e.jsx("span",{children:ke()})]}),e.jsxs("span",{className:"font-bold",children:[v,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${v}%`}})})]}),e.jsxs("form",{onSubmit:te,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"فایل ویدیو *"}),e.jsx("div",{onClick:()=>{var A;return(A=i.current)==null?void 0:A.click()},className:"border-2 border-dashed border-gray-600 hover:border-red-500 rounded-lg p-12 text-center cursor-pointer transition-colors",children:j?e.jsxs("div",{className:"space-y-4",children:[e.jsx("video",{src:j,controls:!0,className:"max-h-64 mx-auto rounded-lg"}),e.jsxs("div",{className:"text-white",children:[e.jsx("p",{className:"font-medium",children:m==null?void 0:m.name}),e.jsx("p",{className:"text-sm text-gray-400",children:m&&ae.formatFileSize(m.size)})]}),e.jsx("button",{type:"button",onClick:A=>{A.stopPropagation(),c(null),x("")},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"حذف ویدیو"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ws,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"فایل ویدیو را انتخاب کنید"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"یا فایل را بکشید و اینجا رها کنید"}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("p",{children:"فرمت‌های مجاز: MP4, WebM, MOV, AVI, MKV"}),e.jsx("p",{children:"حداکثر حجم: 500 مگابایت"})]})]})}),e.jsx("input",{ref:i,type:"file",accept:"video/mp4,video/webm,video/quicktime,video/x-msvideo,video/x-matroska",onChange:Ne,className:"hidden"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"تصویر بندانگشتی (اختیاری)"}),e.jsx("div",{onClick:()=>{var A;return(A=t.current)==null?void 0:A.click()},className:"border-2 border-dashed border-gray-600 hover:border-red-500 rounded-lg p-8 text-center cursor-pointer transition-colors",children:f?e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:f,alt:"Thumbnail preview",className:"max-h-48 mx-auto rounded-lg"}),e.jsxs("div",{className:"text-white",children:[e.jsx("p",{className:"font-medium",children:b==null?void 0:b.name}),e.jsx("p",{className:"text-sm text-gray-400",children:b&&ae.formatFileSize(b.size)})]}),e.jsx("button",{type:"button",onClick:A=>{A.stopPropagation(),u(null),p("")},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"حذف تصویر"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ks,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"تصویر بندانگشتی"}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"کلیک کنید یا فایل را بکشید"}),e.jsx("div",{className:"text-xs text-gray-500",children:e.jsx("p",{children:"فرمت‌های مجاز: JPG, PNG, WebP | حداکثر: 5MB"})})]})}),e.jsx("input",{ref:t,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:we,className:"hidden"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"عنوان *"}),e.jsx("input",{type:"text",name:"title",value:o.title,onChange:X,required:!0,disabled:l,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-red-500 disabled:opacity-50",placeholder:"عنوان ویدیو را وارد کنید"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"دسته‌بندی *"}),e.jsxs("select",{name:"category",value:o.category,onChange:X,disabled:l,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-red-500 disabled:opacity-50",children:[e.jsx("option",{value:"آموزشی",children:"آموزشی"}),e.jsx("option",{value:"سرگرمی",children:"سرگرمی"}),e.jsx("option",{value:"موسیقی",children:"موسیقی"}),e.jsx("option",{value:"ورزشی",children:"ورزشی"}),e.jsx("option",{value:"خبری",children:"خبری"}),e.jsx("option",{value:"فناوری",children:"فناوری"}),e.jsx("option",{value:"بازی",children:"بازی"}),e.jsx("option",{value:"فیلم",children:"فیلم"}),e.jsx("option",{value:"هنری",children:"هنری"}),e.jsx("option",{value:"طبیعت",children:"طبیعت"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"توضیحات"}),e.jsx("textarea",{name:"description",value:o.description,onChange:X,rows:6,disabled:l,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-red-500 disabled:opacity-50",placeholder:"درباره ویدیوی خود توضیح دهید"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"برچسب‌ها (با کاما جدا کنید)"}),e.jsx("input",{type:"text",name:"tags",value:o.tags,onChange:X,disabled:l,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-red-500 disabled:opacity-50",placeholder:"آموزش، برنامه‌نویسی، react"})]}),e.jsxs("div",{className:"flex justify-end space-x-4 gap-3",children:[e.jsx("button",{type:"button",onClick:()=>s("/"),disabled:l,className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"لغو"}),e.jsx("button",{type:"submit",disabled:l||!m,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"w-5 h-5 animate-spin"}),"در حال آپلود..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"w-5 h-5"}),"آپلود ویدیو"]})})]})]})]})})},Et=()=>{Qe();const{user:s}=z(),{videos:r}=H(),a=r.filter(o=>o.status==="published"),i=a.reduce((o,d)=>o+d.views,0),t=o=>o>=1e6?`${(o/1e6).toFixed(1)}M`:o>=1e3?`${(o/1e3).toFixed(1)}K`:o.toString();return e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-800 rounded-lg p-8 mb-8",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("img",{src:s==null?void 0:s.avatar,alt:s==null?void 0:s.username,className:"w-32 h-32 rounded-full border-4 border-white shadow-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h1",{className:"text-4xl font-bold text-white",children:s==null?void 0:s.username}),(s==null?void 0:s.verified)&&e.jsx(O,{className:"w-8 h-8 text-white"})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-white text-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{className:"w-5 h-5"}),e.jsxs("span",{children:[t((s==null?void 0:s.subscribers)||0)," subscribers"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{className:"w-5 h-5"}),e.jsxs("span",{children:[t(i)," total views"]})]}),e.jsxs("span",{children:[a.length," videos"]})]})]})]})}),e.jsx("div",{className:"border-b border-gray-700 mb-8",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx("button",{className:"px-4 py-3 text-white border-b-2 border-red-500 font-medium",children:"Videos"}),e.jsx("button",{className:"px-4 py-3 text-gray-400 hover:text-white transition-colors",children:"Playlists"}),e.jsx("button",{className:"px-4 py-3 text-gray-400 hover:text-white transition-colors",children:"About"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(o=>e.jsx(Me,{video:o},o.id))}),a.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-400 text-lg",children:"No videos uploaded yet"})})]})},It=()=>{const s=xe(),{login:r}=z(),{t:a,isRTL:i}=$(),[t,o]=h.useState(!1),[d,m]=h.useState({email:"",password:""}),[c,b]=h.useState(""),[u,j]=h.useState(!1),x=async l=>{l.preventDefault(),b(""),j(!0),await r(d.email,d.password)?s("/"):b("ایمیل یا رمز عبور اشتباه است"),j(!1)},f=l=>{m({...d,[l.target.name]:l.target.value})},p=[{icon:I,text:"پخش ویدیو با کیفیت 4K"},{icon:F,text:"پخش زنده تعاملی"},{icon:me,text:"پادکست‌های اختصاصی"},{icon:U,text:"کیف پول ریالی"}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-purple-50 to-gold-50 dark:from-gray-900 dark:via-purple-900 dark:to-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-6xl w-full grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"text-center lg:text-right space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-center lg:justify-end space-x-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-vitimo rounded-2xl flex items-center justify-center shadow-vitimo",children:e.jsx(I,{className:"w-12 h-12 text-white fill-current"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-gold rounded-full flex items-center justify-center",children:e.jsx(E,{className:"w-5 h-5 text-gray-900"})})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-5xl font-bold bg-gradient-vitimo bg-clip-text text-transparent",children:"ویتیمو"}),e.jsx("p",{className:"text-gold-600 font-bold text-lg",children:"Premium Video Platform"})]})]}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:a("login.subtitle")}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 leading-relaxed",children:"پلتفرم ویدیویی حرفه‌ای با امکانات پیشرفته پخش زنده، پادکست و کیف پول ریالی"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:p.map((l,n)=>{const v=l.icon;return e.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gradient-vitimo rounded-lg",children:e.jsx(v,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:l.text})]})},n)})})]}),e.jsx("div",{className:"max-w-md mx-auto w-full",children:e.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-gray-200 dark:border-gray-700 rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:a("login.title")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"وارد حساب کاربری خود شوید"})]}),c&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-xl mb-6",children:c}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("login.email")}),e.jsx("input",{type:"email",name:"email",value:d.email,onChange:f,required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500 focus:border-transparent transition-all",placeholder:"example@vitimo.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("login.password")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:t?"text":"password",name:"password",value:d.password,onChange:f,required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500 focus:border-transparent transition-all pr-12",placeholder:"رمز عبور خود را وارد کنید"}),e.jsx("button",{type:"button",onClick:()=>o(!t),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:t?e.jsx(ls,{className:"w-5 h-5"}):e.jsx(R,{className:"w-5 h-5"})})]})]}),e.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-vitimo text-white font-bold py-4 rounded-xl transition-all transform hover:scale-105 shadow-vitimo hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:u?"در حال ورود...":a("login.signin")})]}),e.jsxs("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4 text-center",children:a("login.demo")}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"bg-gradient-vitimo/10 border border-vitimo-200 dark:border-vitimo-800 p-4 rounded-xl",children:e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:[e.jsxs("strong",{className:"text-vitimo-600 dark:text-vitimo-400",children:[a("login.admin"),":"]})," admin@vitimo.com / admin"]})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 p-4 rounded-xl",children:e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:[e.jsxs("strong",{className:"text-gray-600 dark:text-gray-400",children:[a("login.user"),":"]})," user@vitimo.com / user"]})})]})]}),e.jsxs("div",{className:"mt-6 text-center space-y-3",children:[e.jsx("button",{className:"text-vitimo-600 dark:text-vitimo-400 hover:underline text-sm font-medium block w-full",children:a("login.forgotPassword")}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["حساب کاربری ندارید؟"," ",e.jsx(D,{to:"/register",className:"text-vitimo-600 dark:text-vitimo-400 hover:underline font-medium",children:"ثبت‌نام کنید"})]})]})]})})]})})},Ut=()=>{const s=xe(),{register:r}=z(),[a,i]=h.useState(!1),[t,o]=h.useState({username:"",email:"",password:"",confirmPassword:""}),[d,m]=h.useState(""),[c,b]=h.useState(!1),u=async x=>{if(x.preventDefault(),m(""),t.password!==t.confirmPassword){m("رمز عبور و تکرار آن یکسان نیستند");return}if(t.password.length<6){m("رمز عبور باید حداقل ۶ کاراکتر باشد");return}b(!0),await r({username:t.username,email:t.email,password:t.password})?s("/"):m("خطا در ثبت‌نام. لطفاً دوباره تلاش کنید"),b(!1)},j=x=>{o({...t,[x.target.name]:x.target.value})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-purple-50 to-gold-50 dark:from-gray-900 dark:via-purple-900 dark:to-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-vitimo rounded-2xl flex items-center justify-center shadow-vitimo",children:e.jsx(I,{className:"w-10 h-10 text-white fill-current"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-gold rounded-full flex items-center justify-center",children:e.jsx(E,{className:"w-4 h-4 text-gray-900"})})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-vitimo bg-clip-text text-transparent",children:"ویتیمو"}),e.jsx("p",{className:"text-gold-600 font-bold",children:"Premium Video Platform"})]})]})}),e.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-gray-200 dark:border-gray-700 rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-vitimo rounded-full mb-4",children:e.jsx(Gs,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"ثبت‌نام در ویتیمو"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"حساب کاربری جدید بسازید"})]}),d&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-xl mb-6",children:d}),e.jsxs("form",{onSubmit:u,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"نام کاربری"}),e.jsx("input",{type:"text",name:"username",value:t.username,onChange:j,required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500 focus:border-transparent transition-all",placeholder:"نام کاربری خود را وارد کنید"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ایمیل"}),e.jsx("input",{type:"email",name:"email",value:t.email,onChange:j,required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500 focus:border-transparent transition-all",placeholder:"example@vitimo.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"رمز عبور"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:a?"text":"password",name:"password",value:t.password,onChange:j,required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500 focus:border-transparent transition-all pr-12",placeholder:"حداقل ۶ کاراکتر"}),e.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:a?e.jsx(ls,{className:"w-5 h-5"}):e.jsx(R,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"تکرار رمز عبور"}),e.jsx("input",{type:a?"text":"password",name:"confirmPassword",value:t.confirmPassword,onChange:j,required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500 focus:border-transparent transition-all",placeholder:"رمز عبور را دوباره وارد کنید"})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-vitimo text-white font-bold py-4 rounded-xl transition-all transform hover:scale-105 shadow-vitimo hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:c?"در حال ثبت‌نام...":"ثبت‌نام"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["قبلاً ثبت‌نام کرده‌اید؟"," ",e.jsx(D,{to:"/login",className:"text-vitimo-600 dark:text-vitimo-400 hover:underline font-medium",children:"وارد شوید"})]})})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600 dark:text-gray-400",children:["با ثبت‌نام، شما با"," ",e.jsx("a",{href:"#",className:"text-vitimo-600 dark:text-vitimo-400 hover:underline",children:"شرایط و قوانین"})," ","ما موافقت می‌کنید"]})]})})},Mt=()=>{const{t:s,isRTL:r}=$(),a=[{icon:I,key:"premium.noAds"},{icon:be,key:"premium.hd"},{icon:se,key:"premium.offline"},{icon:Ae,key:"premium.exclusive"},{icon:Js,text:"Priority Support"},{icon:M,text:"Family Sharing"}],i=[{name:"Basic",price:s("premium.price"),duration:"/month",features:["No Ads","HD Quality","Mobile Download"],popular:!1},{name:"Premium",price:"$19.99",duration:"/month",features:["Everything in Basic","Offline Viewing","Exclusive Content","Priority Support"],popular:!0},{name:"Family",price:"$29.99",duration:"/month",features:["Everything in Premium","Up to 6 accounts","Parental Controls","Family Mix"],popular:!1}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-purple opacity-20"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-6 py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-4 bg-gradient-gold rounded-full shadow-gold animate-pulse-custom",children:e.jsx(E,{className:"w-12 h-12 text-gray-900"})})}),e.jsx("h1",{className:"text-5xl font-bold text-white mb-4 text-shadow",children:s("premium.title")}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:s("premium.subtitle")}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{className:"btn-gold text-lg px-8 py-4",children:s("premium.subscribe")})})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Premium Features"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((t,o)=>{const d=t.icon;return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-purple-600/30 rounded-xl p-6 hover:border-gold-500/50 transition-all duration-300 transform hover:scale-105",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-gold rounded-lg",children:e.jsx(d,{className:"w-6 h-6 text-gray-900"})}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:t.key?s(t.key):t.text})]}),e.jsx("p",{className:"text-gray-400",children:"Experience the best of video streaming with our premium features."})]},o)})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Choose Your Plan"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((t,o)=>e.jsxs("div",{className:`relative bg-gray-800/50 backdrop-blur-sm border rounded-xl p-8 transition-all duration-300 transform hover:scale-105 ${t.popular?"border-gold-500 shadow-gold":"border-purple-600/30 hover:border-purple-500/50"}`,children:[t.popular&&e.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"bg-gradient-gold text-gray-900 px-4 py-2 rounded-full text-sm font-bold",children:"Most Popular"})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:t.name}),e.jsxs("div",{className:"flex items-baseline justify-center",children:[e.jsx("span",{className:"text-4xl font-bold text-gold-500",children:t.price}),e.jsx("span",{className:"text-gray-400 ml-2",children:t.duration})]})]}),e.jsx("ul",{className:"space-y-4 mb-8",children:t.features.map((d,m)=>e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx(Hs,{className:"w-5 h-5 text-gold-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-300",children:d})]},m))}),e.jsx("button",{className:`w-full py-3 px-6 rounded-lg font-bold transition-all duration-200 transform hover:scale-105 ${t.popular?"bg-gradient-gold text-gray-900 shadow-gold":"bg-purple-600 hover:bg-purple-700 text-white"}`,children:"Get Started"})]},o))})]}),e.jsx("div",{className:"bg-gradient-purple py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center px-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Go Premium?"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Join millions of users enjoying ad-free, high-quality video streaming."}),e.jsx("button",{className:"btn-gold text-lg px-8 py-4",children:"Start Free Trial"}),e.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"Cancel anytime. No commitments."})]})})]})},_t=()=>{const{t:s,isRTL:r}=$(),a=2450,i=[{icon:I,key:"rewards.watchVideo",points:10,color:"text-blue-400"},{icon:Ee,key:"rewards.uploadVideo",points:100,color:"text-green-400"},{icon:oe,key:"rewards.shareVideo",points:25,color:"text-purple-400"},{icon:he,key:"rewards.dailyLogin",points:5,color:"text-gold-400"}],t=[{id:1,title:"Premium 1 Month",description:"Get 1 month of premium subscription",points:1e3,image:"https://images.pexels.com/photos/1591056/pexels-photo-1591056.jpeg?auto=compress&cs=tinysrgb&w=300",available:!0},{id:2,title:"Exclusive Badge",description:"Show off with a special profile badge",points:500,image:"https://images.pexels.com/photos/1591061/pexels-photo-1591061.jpeg?auto=compress&cs=tinysrgb&w=300",available:!0},{id:3,title:"Custom Thumbnail",description:"Upload custom thumbnails for your videos",points:750,image:"https://images.pexels.com/photos/1591062/pexels-photo-1591062.jpeg?auto=compress&cs=tinysrgb&w=300",available:!0},{id:4,title:"Early Access",description:"Get early access to new features",points:2e3,image:"https://images.pexels.com/photos/1591063/pexels-photo-1591063.jpeg?auto=compress&cs=tinysrgb&w=300",available:!1}],o=[{title:"First Upload",description:"Upload your first video",completed:!0},{title:"Video Lover",description:"Watch 100 videos",completed:!0},{title:"Social Butterfly",description:"Share 50 videos",completed:!1},{title:"Content Creator",description:"Upload 10 videos",completed:!1}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900",children:[e.jsx("div",{className:"bg-gradient-gold text-gray-900 py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-4 bg-white/20 rounded-full animate-bounce-slow",children:e.jsx(Re,{className:"w-12 h-12"})})}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:s("rewards.title")}),e.jsx("p",{className:"text-xl opacity-80 mb-8",children:s("rewards.subtitle")}),e.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6 max-w-md mx-auto",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx(Qs,{className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm opacity-80",children:s("rewards.points")}),e.jsx("p",{className:"text-3xl font-bold",children:a.toLocaleString()})]})]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Earn Points"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((d,m)=>{const c=d.icon;return e.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-purple-600/30 rounded-xl p-6 hover:border-gold-500/50 transition-all duration-300 transform hover:scale-105",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-3 bg-gradient-purple rounded-full",children:e.jsx(c,{className:`w-6 h-6 ${d.color}`})})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:s(d.key)}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(be,{className:"w-4 h-4 text-gold-400"}),e.jsxs("span",{className:"text-gold-400 font-bold",children:["+",d.points]})]})]})},m)})})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Rewards Store"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(d=>e.jsxs("div",{className:`bg-gray-800/50 backdrop-blur-sm border rounded-xl overflow-hidden transition-all duration-300 transform hover:scale-105 ${d.available?"border-purple-600/30 hover:border-gold-500/50":"border-gray-700/50 opacity-60"}`,children:[e.jsx("img",{src:d.image,alt:d.title,className:"w-full h-32 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:d.title}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:d.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(be,{className:"w-4 h-4 text-gold-400"}),e.jsx("span",{className:"text-gold-400 font-bold",children:d.points})]}),e.jsx("button",{disabled:!d.available||a<d.points,className:`px-4 py-2 rounded-lg font-medium transition-all ${d.available&&a>=d.points?"bg-gradient-gold text-gray-900 hover:shadow-gold transform hover:scale-105":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:d.available?"Redeem":"Locked"})]})]})]},d.id))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Achievements"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map((d,m)=>e.jsx("div",{className:`bg-gray-800/50 backdrop-blur-sm border rounded-xl p-6 transition-all duration-300 ${d.completed?"border-gold-500/50 bg-gold-500/10":"border-purple-600/30"}`,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-3 rounded-full ${d.completed?"bg-gradient-gold":"bg-gray-700"}`,children:e.jsx(es,{className:`w-6 h-6 ${d.completed?"text-gray-900":"text-gray-400"}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold ${d.completed?"text-gold-400":"text-white"}`,children:d.title}),e.jsx("p",{className:"text-gray-400",children:d.description})]}),d.completed&&e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"w-6 h-6 bg-gold-500 rounded-full flex items-center justify-center",children:e.jsx(be,{className:"w-4 h-4 text-gray-900 fill-current"})})})]})},m))})]})]})]})},Bt=()=>{const{balance:s,transactions:r,deposit:a,withdraw:i}=ge(),{t}=$(),[o,d]=h.useState("overview"),[m,c]=h.useState(""),[b,u]=h.useState(""),[j,x]=h.useState(""),[f,p]=h.useState(!1),l=y=>new Intl.NumberFormat("fa-IR").format(y),n=async y=>{if(y.preventDefault(),!m||f)return;p(!0),await a(parseInt(m))&&c(""),p(!1)},v=async y=>{if(y.preventDefault(),!b||!j||f)return;p(!0),await i(parseInt(b),j)&&(u(""),x("")),p(!1)},k=y=>{switch(y){case"deposit":return e.jsx(je,{className:"w-4 h-4 text-green-500"});case"withdraw":return e.jsx(De,{className:"w-4 h-4 text-red-500"});case"earning":return e.jsx(q,{className:"w-4 h-4 text-blue-500"});case"reward":return e.jsx(q,{className:"w-4 h-4 text-gold-500"});default:return e.jsx(U,{className:"w-4 h-4 text-gray-500"})}},g=y=>{switch(y){case"deposit":case"earning":case"reward":return"text-green-600";case"withdraw":return"text-red-600";default:return"text-gray-600"}},C=[{id:"overview",label:"نمای کلی",icon:R},{id:"deposit",label:"واریز",icon:je},{id:"withdraw",label:"برداشت",icon:De},{id:"history",label:"تاریخچه",icon:he}];return e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:t("wallet.title")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"مدیریت موجودی و تراکنش‌های مالی شما"})]}),e.jsx("div",{className:"wallet-card relative",children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(U,{className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm",children:"موجودی کل"}),e.jsxs("p",{className:"text-3xl font-bold",children:[l(s)," ریال"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-white/80 text-sm",children:"شماره کیف پول"}),e.jsxs("p",{className:"font-mono text-lg",children:["VT-",Math.random().toString(36).substr(2,8).toUpperCase()]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsx("p",{className:"text-white/80 text-sm",children:"درآمد این ماه"}),e.jsxs("p",{className:"text-xl font-bold text-green-300",children:["+",l(125e3)," ریال"]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsx("p",{className:"text-white/80 text-sm",children:"پاداش‌ها"}),e.jsxs("p",{className:"text-xl font-bold text-gold-300",children:["+",l(45e3)," ریال"]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsx("p",{className:"text-white/80 text-sm",children:"برداشت‌ها"}),e.jsxs("p",{className:"text-xl font-bold text-red-300",children:["-",l(75e3)," ریال"]})]})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:C.map(y=>{const N=y.icon;return e.jsxs("button",{onClick:()=>d(y.id),className:`flex items-center space-x-3 px-6 py-4 font-medium transition-all ${o===y.id?"text-vitimo-600 border-b-2 border-vitimo-600 bg-vitimo-50 dark:bg-vitimo-900/20":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(N,{className:"w-5 h-5"}),e.jsx("span",{children:y.label})]},y.id)})}),e.jsxs("div",{className:"p-6",children:[o==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-6 rounded-xl border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx(q,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"font-bold text-green-700 dark:text-green-300",children:"درآمد کل"})]}),e.jsxs("p",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:[l(85e4)," ریال"]}),e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:"+۱۵% نسبت به ماه قبل"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gold-50 to-gold-100 dark:from-gold-900/20 dark:to-gold-800/20 p-6 rounded-xl border border-gold-200 dark:border-gold-800",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-gold-500 rounded-lg",children:e.jsx(q,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"font-bold text-gold-700 dark:text-gold-300",children:"پاداش‌ها"})]}),e.jsxs("p",{className:"text-2xl font-bold text-gold-800 dark:text-gold-200",children:[l(125e3)," ریال"]}),e.jsx("p",{className:"text-sm text-gold-600 dark:text-gold-400 mt-1",children:"از ۲۵ فعالیت"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 rounded-xl border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(R,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"font-bold text-blue-700 dark:text-blue-300",children:"درآمد ویدیو"})]}),e.jsxs("p",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:[l(725e3)," ریال"]}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 mt-1",children:"از ۱۲ ویدیو"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-vitimo-50 to-vitimo-100 dark:from-vitimo-900/20 dark:to-vitimo-800/20 p-6 rounded-xl border border-vitimo-200 dark:border-vitimo-800",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-vitimo-500 rounded-lg",children:e.jsx(U,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"font-bold text-vitimo-700 dark:text-vitimo-300",children:"موجودی فعلی"})]}),e.jsxs("p",{className:"text-2xl font-bold text-vitimo-800 dark:text-vitimo-200",children:[l(s)," ریال"]}),e.jsx("p",{className:"text-sm text-vitimo-600 dark:text-vitimo-400 mt-1",children:"آماده برداشت"})]})]}),o==="deposit"&&e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-vitimo rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(je,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"واریز به کیف پول"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["موجودی فعلی: ",l(s)," ریال"]})]}),e.jsxs("form",{onSubmit:n,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"مبلغ واریز (ریال)"}),e.jsx("input",{type:"number",value:m,onChange:y=>c(y.target.value),placeholder:"مثال: 100000",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500 focus:border-transparent",required:!0,min:"10000",max:"10000000"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"حداقل: ۱۰,۰۰۰ ریال - حداکثر: ۱۰,۰۰۰,۰۰۰ ریال"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"روش پرداخت"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[e.jsx("input",{type:"radio",name:"payment",value:"card",defaultChecked:!0,className:"text-vitimo-600"}),e.jsx(ds,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:"کارت بانکی"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[e.jsx("input",{type:"radio",name:"payment",value:"bank",className:"text-vitimo-600"}),e.jsx(U,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:"انتقال بانکی"})]})]})]}),e.jsx("button",{type:"submit",disabled:!m||f,className:"w-full bg-gradient-vitimo text-white py-4 rounded-xl font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-vitimo transition-all transform hover:scale-105",children:f?"در حال پردازش...":`واریز ${m?l(parseInt(m)):"0"} ریال`})]})]}),o==="withdraw"&&e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(De,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"برداشت از کیف پول"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["موجودی قابل برداشت: ",l(s)," ریال"]})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"مبلغ برداشت (ریال)"}),e.jsx("input",{type:"number",value:b,onChange:y=>u(y.target.value),placeholder:"مثال: 50000",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500 focus:border-transparent",required:!0,min:"50000",max:s}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["حداقل: ۵۰,۰۰۰ ریال - حداکثر: ",l(s)," ریال"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"شماره حساب بانکی"}),e.jsx("input",{type:"text",value:j,onChange:y=>x(y.target.value),placeholder:"مثال: 1234567890123456",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500 focus:border-transparent",required:!0})]}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-xl p-4",children:e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"⚠️ برداشت معمولاً ۲۴ تا ۴۸ ساعت زمان می‌برد. کارمزد برداشت ۵,۰۰۰ ریال است."})}),e.jsx("button",{type:"submit",disabled:!b||!j||f||parseInt(b)>s,className:"w-full bg-red-600 hover:bg-red-700 text-white py-4 rounded-xl font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105",children:f?"در حال پردازش...":`برداشت ${b?l(parseInt(b)):"0"} ریال`})]})]}),o==="history"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"تاریخچه تراکنش‌ها"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:[e.jsx(ns,{className:"w-4 h-4"}),e.jsx("span",{children:"فیلتر"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-vitimo-100 dark:bg-vitimo-900 text-vitimo-700 dark:text-vitimo-300 hover:bg-vitimo-200 dark:hover:bg-vitimo-800 rounded-lg transition-colors",children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{children:"دانلود"})]})]})]}),e.jsx("div",{className:"space-y-3",children:r.map(y=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-2 bg-white dark:bg-gray-800 rounded-lg",children:k(y.type)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:y.description}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.date})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-bold text-lg ${g(y.type)}`,children:[y.type==="withdraw"?"-":"+",l(y.amount)," ریال"]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${y.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":y.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:y.status==="completed"?"تکمیل شده":y.status==="pending"?"در انتظار":"ناموفق"})]})]},y.id))}),r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(U,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"هنوز تراکنشی انجام نشده"})]})]})]})]})]})},qt=()=>{const{liveStreams:s,isStreaming:r,startStream:a,endStream:i}=Ue(),{isAuthenticated:t,user:o}=z();$();const[d,m]=h.useState("browse"),[c,b]=h.useState({title:"",description:"",category:"Technology",tags:""}),u=x=>{if(x.preventDefault(),!c.title.trim())return;const f=c.tags.split(",").map(p=>p.trim()).filter(p=>p);a({title:c.title,thumbnail:"https://images.pexels.com/photos/270404/pexels-photo-270404.jpeg?auto=compress&cs=tinysrgb&w=800",streamer:{id:o.id,name:o.username,avatar:o.avatar,verified:o.verified},category:c.category,description:c.description,tags:f}),m("browse")},j=s.filter(x=>x.isLive);return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-2xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-full",children:e.jsx(F,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"پخش زنده ویتیمو"}),e.jsx("p",{className:"text-red-100",children:"تجربه پخش زنده با کیفیت بالا"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-red-100",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{className:"w-5 h-5"}),e.jsxs("span",{children:[j.reduce((x,f)=>x+f.viewers,0)," بیننده آنلاین"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"w-5 h-5"}),e.jsxs("span",{children:[j.length," پخش زنده فعال"]})]})]})]}),t&&e.jsx("div",{className:"text-center",children:r?e.jsx("button",{onClick:i,className:"bg-white/20 hover:bg-white/30 text-white px-6 py-3 rounded-xl font-bold transition-all",children:"پایان پخش"}):e.jsx("button",{onClick:()=>m("create"),className:"bg-white text-red-600 px-6 py-3 rounded-xl font-bold hover:bg-red-50 transition-all transform hover:scale-105",children:"شروع پخش زنده"})})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>m("browse"),className:`flex items-center space-x-3 px-6 py-4 font-medium transition-all ${d==="browse"?"text-red-600 border-b-2 border-red-600 bg-red-50 dark:bg-red-900/20":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(F,{className:"w-5 h-5"}),e.jsx("span",{children:"پخش‌های زنده"}),e.jsx("span",{className:"px-2 py-1 text-xs bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-full",children:j.length})]}),t&&e.jsxs("button",{onClick:()=>m("create"),className:`flex items-center space-x-3 px-6 py-4 font-medium transition-all ${d==="create"?"text-vitimo-600 border-b-2 border-vitimo-600 bg-vitimo-50 dark:bg-vitimo-900/20":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(re,{className:"w-5 h-5"}),e.jsx("span",{children:"ایجاد پخش زنده"})]})]}),e.jsxs("div",{className:"p-6",children:[d==="browse"&&e.jsx("div",{children:j.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(x=>e.jsx($e,{stream:x},x.id))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx(F,{className:"w-20 h-20 text-gray-400 mx-auto mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"در حال حاضر پخش زنده‌ای وجود ندارد"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"اولین نفری باشید که پخش زنده را شروع می‌کند!"}),t&&e.jsx("button",{onClick:()=>m("create"),className:"bg-gradient-vitimo text-white px-8 py-4 rounded-xl font-bold hover:shadow-vitimo transition-all transform hover:scale-105",children:"شروع پخش زنده"})]})}),d==="create"&&t&&e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-vitimo rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(re,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"ایجاد پخش زنده جدید"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"پخش زنده خود را تنظیم کنید و با مخاطبان ارتباط برقرار کنید"})]}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"عنوان پخش زنده *"}),e.jsx("input",{type:"text",value:c.title,onChange:x=>b({...c,title:x.target.value}),placeholder:"عنوان جذابی برای پخش زنده خود انتخاب کنید",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"توضیحات"}),e.jsx("textarea",{value:c.description,onChange:x=>b({...c,description:x.target.value}),placeholder:"درباره پخش زنده خود توضیح دهید...",rows:4,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500 focus:border-transparent resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"دسته‌بندی"}),e.jsxs("select",{value:c.category,onChange:x=>b({...c,category:x.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500 focus:border-transparent",children:[e.jsx("option",{value:"Technology",children:"تکنولوژی"}),e.jsx("option",{value:"Gaming",children:"بازی"}),e.jsx("option",{value:"Music",children:"موسیقی"}),e.jsx("option",{value:"Education",children:"آموزش"}),e.jsx("option",{value:"Entertainment",children:"سرگرمی"}),e.jsx("option",{value:"Sports",children:"ورزش"}),e.jsx("option",{value:"News",children:"اخبار"}),e.jsx("option",{value:"Cooking",children:"آشپزی"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"برچسب‌ها"}),e.jsx("input",{type:"text",value:c.tags,onChange:x=>b({...c,tags:x.target.value}),placeholder:"زنده، آموزش، تکنولوژی",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[e.jsx(ye,{className:"w-5 h-5"}),e.jsx("span",{children:"تنظیمات پخش"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"کیفیت پخش"}),e.jsxs("select",{className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500",children:[e.jsx("option",{value:"720p",children:"720p HD"}),e.jsx("option",{value:"1080p",children:"1080p Full HD"}),e.jsx("option",{value:"1440p",children:"1440p 2K"}),e.jsx("option",{value:"2160p",children:"2160p 4K"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"نوع پخش"}),e.jsxs("select",{className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500",children:[e.jsx("option",{value:"video",children:"ویدیو + صدا"}),e.jsx("option",{value:"audio",children:"فقط صدا"}),e.jsx("option",{value:"screen",children:"اشتراک صفحه"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"حریم خصوصی"}),e.jsxs("select",{className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500",children:[e.jsx("option",{value:"public",children:"عمومی"}),e.jsx("option",{value:"unlisted",children:"غیرفهرست"}),e.jsx("option",{value:"private",children:"خصوصی"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>m("browse"),className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900 dark:text-white rounded-xl transition-colors",children:"لغو"}),e.jsx("button",{type:"submit",className:"px-8 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-bold hover:shadow-lg transition-all transform hover:scale-105",children:"شروع پخش زنده"})]})]})]})]})]}),d==="browse"&&e.jsx("div",{children:j.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:["پخش‌های زنده فعال (",j.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(x=>e.jsx($e,{stream:x},x.id))})]}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx(F,{className:"w-20 h-20 text-gray-400 mx-auto mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"هیچ پخش زنده‌ای در حال حاضر فعال نیست"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"اولین نفری باشید که پخش زنده را شروع می‌کند!"}),t&&e.jsx("button",{onClick:()=>m("create"),className:"bg-gradient-vitimo text-white px-8 py-4 rounded-xl font-bold hover:shadow-vitimo transition-all transform hover:scale-105",children:"شروع پخش زنده"})]})})]})},Ot=()=>{$();const[s,r]=h.useState(null),[a,i]=h.useState(!1),[t,o]=h.useState(0),[d,m]=h.useState(2730),c=[{id:"1",title:"پادکست تکنولوژی ویتیمو",description:"آخرین اخبار و تحلیل‌های دنیای تکنولوژی",thumbnail:"https://images.pexels.com/photos/270404/pexels-photo-270404.jpeg?auto=compress&cs=tinysrgb&w=400",host:"علی احمدی",episodes:25,duration:"45:30",category:"Technology"},{id:"2",title:"کسب و کار دیجیتال",description:"راهنمای موفقیت در کسب و کار آنلاین",thumbnail:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=400",host:"سارا محمدی",episodes:18,duration:"38:15",category:"Business"},{id:"3",title:"سلامت و تندرستی",description:"نکات طلایی برای زندگی سالم",thumbnail:"https://images.pexels.com/photos/3768916/pexels-photo-3768916.jpeg?auto=compress&cs=tinysrgb&w=400",host:"دکتر رضا کریمی",episodes:32,duration:"42:20",category:"Health"},{id:"4",title:"داستان‌های شب",description:"داستان‌های جذاب برای خواب راحت",thumbnail:"https://images.pexels.com/photos/1261728/pexels-photo-1261728.jpeg?auto=compress&cs=tinysrgb&w=400",host:"مریم نوری",episodes:45,duration:"25:10",category:"Entertainment"}],b=x=>{const f=Math.floor(x/60),p=x%60;return`${f}:${p.toString().padStart(2,"0")}`},u=()=>{i(!a)},j=x=>{o(parseInt(x.target.value))};return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"bg-gradient-vitimo rounded-2xl p-8 text-white",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-full",children:e.jsx(me,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"پادکست‌های ویتیمو"}),e.jsx("p",{className:"text-purple-100",children:"مجموعه‌ای از بهترین پادکست‌های فارسی"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsx("p",{className:"text-purple-100 text-sm",children:"کل پادکست‌ها"}),e.jsx("p",{className:"text-2xl font-bold",children:c.length})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsx("p",{className:"text-purple-100 text-sm",children:"کل قسمت‌ها"}),e.jsx("p",{className:"text-2xl font-bold",children:c.reduce((x,f)=>x+f.episodes,0)})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsx("p",{className:"text-purple-100 text-sm",children:"ساعات محتوا"}),e.jsx("p",{className:"text-2xl font-bold",children:"۱۲۰+"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsx("p",{className:"text-purple-100 text-sm",children:"مشترکین"}),e.jsx("p",{className:"text-2xl font-bold",children:"۱۵K"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(x=>e.jsx("div",{onClick:()=>r(x),className:"cursor-pointer",children:e.jsx(Fe,{podcast:x})},x.id))}),s&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4 shadow-2xl z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1 min-w-0",children:[e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-16 h-16 rounded-xl object-cover"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white truncate",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:s.host})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(ts,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),e.jsx("button",{onClick:u,className:"p-3 bg-gradient-vitimo text-white rounded-full hover:shadow-vitimo transition-all transform hover:scale-105",children:a?e.jsx(Te,{className:"w-6 h-6"}):e.jsx(I,{className:"w-6 h-6"})}),e.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(as,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})]}),e.jsxs("div",{className:"flex-1 max-w-md",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400 mb-1",children:[e.jsx("span",{children:b(t)}),e.jsx("span",{children:"/"}),e.jsx("span",{children:b(d)})]}),e.jsx("input",{type:"range",min:"0",max:d,value:t,onChange:j,className:"w-full h-1 bg-gray-300 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rs,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}),e.jsx("input",{type:"range",min:"0",max:"100",defaultValue:"70",className:"w-20 h-1 bg-gray-300 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(Ie,{className:"w-4 h-4 text-gray-700 dark:text-gray-300"})}),e.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(oe,{className:"w-4 h-4 text-gray-700 dark:text-gray-300"})}),e.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(se,{className:"w-4 h-4 text-gray-700 dark:text-gray-300"})})]})]})]})})})]})},zt=()=>{$();const{isAuthenticated:s}=z(),[r,a]=h.useState(!1),[i,t]=h.useState({title:"",description:"",privacy:"public"}),[o]=h.useState([{id:"1",title:"آموزش‌های برنامه‌نویسی",description:"مجموعه کاملی از آموزش‌های برنامه‌نویسی",thumbnail:"https://images.pexels.com/photos/270404/pexels-photo-270404.jpeg?auto=compress&cs=tinysrgb&w=400",videoCount:15,totalDuration:"6:45:30",privacy:"public",createdAt:"2024-01-10",views:25e3,creator:{name:"آکادمی کدنویسی",avatar:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=100"}},{id:"2",title:"پادکست‌های تکنولوژی",description:"بهترین پادکست‌های حوزه تکنولوژی",thumbnail:"https://images.pexels.com/photos/3861969/pexels-photo-3861969.jpeg?auto=compress&cs=tinysrgb&w=400",videoCount:8,totalDuration:"4:20:15",privacy:"public",createdAt:"2024-01-05",views:12e3,creator:{name:"پادکست تکنولوژی",avatar:"https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg?auto=compress&cs=tinysrgb&w=100"}},{id:"3",title:"ویدیوهای آشپزی",description:"دستور پخت غذاهای محلی و بین‌المللی",thumbnail:"https://images.pexels.com/photos/1279330/pexels-photo-1279330.jpeg?auto=compress&cs=tinysrgb&w=400",videoCount:22,totalDuration:"8:15:45",privacy:"public",createdAt:"2023-12-20",views:45e3,creator:{name:"آشپزخانه مامان",avatar:"https://images.pexels.com/photos/733872/pexels-photo-733872.jpeg?auto=compress&cs=tinysrgb&w=100"}}]),d=u=>{u.preventDefault(),a(!1),t({title:"",description:"",privacy:"public"})},m=u=>{switch(u){case"public":return e.jsx(Ye,{className:"w-4 h-4 text-green-500"});case"unlisted":return e.jsx(M,{className:"w-4 h-4 text-yellow-500"});case"private":return e.jsx(Ys,{className:"w-4 h-4 text-red-500"});default:return null}},c=u=>{switch(u){case"public":return"عمومی";case"unlisted":return"غیرفهرست";case"private":return"خصوصی";default:return""}},b=u=>u>=1e6?`${(u/1e6).toFixed(1)} میلیون`:u>=1e3?`${(u/1e3).toFixed(1)} هزار`:u.toString();return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsx("div",{className:"bg-gradient-vitimo rounded-2xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-full",children:e.jsx(pe,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"پلی‌لیست‌های ویتیمو"}),e.jsx("p",{className:"text-purple-100",children:"مجموعه‌های منظم از ویدیوها و پادکست‌ها"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-purple-100",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsxs("span",{children:[o.length," پلی‌لیست"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{className:"w-5 h-5"}),e.jsxs("span",{children:[o.reduce((u,j)=>u+j.videoCount,0)," ویدیو"]})]})]})]}),s&&e.jsxs("button",{onClick:()=>a(!0),className:"bg-white/20 hover:bg-white/30 text-white px-6 py-3 rounded-xl font-bold transition-all transform hover:scale-105 flex items-center space-x-2",children:[e.jsx(je,{className:"w-5 h-5"}),e.jsx("span",{children:"ایجاد پلی‌لیست"})]})]})}),r&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"ایجاد پلی‌لیست جدید"}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"عنوان پلی‌لیست"}),e.jsx("input",{type:"text",value:i.title,onChange:u=>t({...i,title:u.target.value}),placeholder:"عنوان پلی‌لیست خود را وارد کنید",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"حریم خصوصی"}),e.jsxs("select",{value:i.privacy,onChange:u=>t({...i,privacy:u.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500",children:[e.jsx("option",{value:"public",children:"عمومی"}),e.jsx("option",{value:"unlisted",children:"غیرفهرست"}),e.jsx("option",{value:"private",children:"خصوصی"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"توضیحات"}),e.jsx("textarea",{value:i.description,onChange:u=>t({...i,description:u.target.value}),placeholder:"توضیحی درباره پلی‌لیست خود بنویسید",rows:3,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500 resize-none"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900 dark:text-white rounded-xl transition-colors",children:"لغو"}),e.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-vitimo text-white rounded-xl font-bold hover:shadow-vitimo transition-all transform hover:scale-105",children:"ایجاد پلی‌لیست"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(u=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden hover:border-vitimo-300 dark:hover:border-vitimo-600 transition-all duration-300 group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:u.thumbnail,alt:u.title,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all duration-300 flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-full",children:e.jsx(I,{className:"w-8 h-8 text-white fill-current"})})})}),e.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/80 text-white px-3 py-1 rounded text-sm font-medium",children:[u.videoCount," ویدیو"]}),e.jsx("div",{className:"absolute top-2 left-2 bg-black/80 text-white p-2 rounded-lg",children:m(u.privacy)})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-lg mb-2 line-clamp-2",children:u.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm line-clamp-2 mb-4",children:u.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsxs("span",{children:[b(u.views)," بازدید"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{children:u.createdAt})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:u.creator.avatar,alt:u.creator.name,className:"w-6 h-6 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:u.creator.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[m(u.privacy),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:c(u.privacy)})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["مدت کل: ",u.totalDuration]}),e.jsx("button",{className:"text-vitimo-600 dark:text-vitimo-400 hover:underline font-medium",children:"پخش همه"})]})})]})]},u.id))}),o.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx(pe,{className:"w-20 h-20 text-gray-400 mx-auto mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"هنوز پلی‌لیستی ایجاد نشده"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"اولین پلی‌لیست خود را ایجاد کنید"}),s&&e.jsx("button",{onClick:()=>a(!0),className:"bg-gradient-vitimo text-white px-8 py-4 rounded-xl font-bold hover:shadow-vitimo transition-all transform hover:scale-105",children:"ایجاد پلی‌لیست"})]})]})},Wt=()=>{const[s]=ws(),{searchVideos:r}=H();$();const[a,i]=h.useState([]),[t,o]=h.useState("relevance"),[d,m]=h.useState("all"),[c,b]=h.useState("all"),[u,j]=h.useState("all"),x=s.get("q")||"";h.useEffect(()=>{if(x){const l=r(x);i(l)}},[x,r]);const p=[...a].sort((l,n)=>{switch(t){case"date":return new Date(n.uploadDate).getTime()-new Date(l.uploadDate).getTime();case"views":return n.views-l.views;case"rating":return n.likes/(n.likes+n.dislikes)-l.likes/(l.likes+l.dislikes);default:return 0}}).filter(l=>{if(c!=="all"){const[n,v]=l.duration.split(":").map(Number),k=n*60+v;switch(c){case"short":if(k>240)return!1;break;case"medium":if(k<=240||k>1200)return!1;break;case"long":if(k<=1200)return!1;break}}if(u!=="all"){const n=new Date(l.uploadDate),g=(new Date().getTime()-n.getTime())/(1e3*60*60*24);switch(u){case"hour":if(g>1/24)return!1;break;case"today":if(g>1)return!1;break;case"week":if(g>7)return!1;break;case"month":if(g>30)return!1;break;case"year":if(g>365)return!1;break}}return!0});return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx(fe,{className:"w-6 h-6 text-vitimo-600"}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:['نتایج جستجو برای "',x,'"']})]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[p.length," نتیجه یافت شد"]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx(Xs,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),e.jsx("h2",{className:"font-bold text-gray-900 dark:text-white",children:"فیلترها و مرتب‌سازی"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"مرتب‌سازی بر اساس"}),e.jsxs("select",{value:t,onChange:l=>o(l.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500",children:[e.jsx("option",{value:"relevance",children:"مرتبط‌ترین"}),e.jsx("option",{value:"date",children:"جدیدترین"}),e.jsx("option",{value:"views",children:"پربازدیدترین"}),e.jsx("option",{value:"rating",children:"بهترین امتیاز"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"نوع محتوا"}),e.jsxs("select",{value:d,onChange:l=>m(l.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500",children:[e.jsx("option",{value:"all",children:"همه"}),e.jsx("option",{value:"video",children:"ویدیو"}),e.jsx("option",{value:"channel",children:"کانال"}),e.jsx("option",{value:"playlist",children:"پلی‌لیست"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"مدت زمان"}),e.jsxs("select",{value:c,onChange:l=>b(l.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500",children:[e.jsx("option",{value:"all",children:"همه"}),e.jsx("option",{value:"short",children:"کوتاه (زیر ۴ دقیقه)"}),e.jsx("option",{value:"medium",children:"متوسط (۴-۲۰ دقیقه)"}),e.jsx("option",{value:"long",children:"بلند (بالای ۲۰ دقیقه)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"زمان آپلود"}),e.jsxs("select",{value:u,onChange:l=>j(l.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-vitimo-500",children:[e.jsx("option",{value:"all",children:"همه"}),e.jsx("option",{value:"hour",children:"ساعت گذشته"}),e.jsx("option",{value:"today",children:"امروز"}),e.jsx("option",{value:"week",children:"هفته گذشته"}),e.jsx("option",{value:"month",children:"ماه گذشته"}),e.jsx("option",{value:"year",children:"سال گذشته"})]})]})]})]}),e.jsx("div",{children:p.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(l=>e.jsx(Me,{video:l},l.id))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx(fe,{className:"w-20 h-20 text-gray-400 mx-auto mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"نتیجه‌ای یافت نشد"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:['متأسفانه برای "',x,'" نتیجه‌ای پیدا نکردیم']}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("p",{children:"• کلمات کلیدی مختلفی امتحان کنید"}),e.jsx("p",{children:"• املای کلمات را بررسی کنید"}),e.jsx("p",{children:"• فیلترهای کمتری اعمال کنید"})]})]})})]})},Kt=()=>{const{videos:s}=H(),{balance:r,transactions:a}=ge(),{liveStreams:i}=Ue(),t=s.length;s.filter(l=>l.status==="published").length;const o=s.filter(l=>l.status==="pending").length,d=s.reduce((l,n)=>l+n.views,0),m=s.reduce((l,n)=>l+(n.earnings||0),0),c=i.filter(l=>l.isLive).length,b=1250,u=[{month:"فروردین",views:12e4,uploads:45,earnings:25e5,users:1100},{month:"اردیبهشت",views:15e4,uploads:52,earnings:32e5,users:1150},{month:"خرداد",views:18e4,uploads:61,earnings:41e5,users:1200},{month:"تیر",views:22e4,uploads:58,earnings:48e5,users:1220},{month:"مرداد",views:25e4,uploads:67,earnings:55e5,users:1240},{month:"شهریور",views:29e4,uploads:73,earnings:62e5,users:1250}],j=[{name:"تکنولوژی",value:35,color:"#6A0DAD"},{name:"بازی",value:25,color:"#FFD700"},{name:"آموزش",value:20,color:"#4ECDC4"},{name:"سرگرمی",value:12,color:"#FF6B6B"},{name:"سایر",value:8,color:"#95A5A6"}],x=[{source:"تبلیغات",amount:45e5,percentage:45},{source:"اشتراک پریمیوم",amount:32e5,percentage:32},{source:"پاداش‌ها",amount:15e5,percentage:15},{source:"کمیسیون",amount:8e5,percentage:8}],f=l=>l>=1e6?`${(l/1e6).toFixed(1)}M`:l>=1e3?`${(l/1e3).toFixed(1)}K`:l.toString(),p=l=>new Intl.NumberFormat("fa-IR").format(l);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"داشبورد مدیریت ویتیمو"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"نمای کلی از عملکرد پلتفرم و آمار کلیدی"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-blue-500 rounded-xl",children:e.jsx(re,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium",children:"کل ویدیوها"}),e.jsx("p",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300",children:t}),e.jsxs("p",{className:"text-blue-500 dark:text-blue-400 text-xs",children:["+",o," در انتظار"]})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-green-500 rounded-xl",children:e.jsx(M,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:"کل کاربران"}),e.jsx("p",{className:"text-3xl font-bold text-green-700 dark:text-green-300",children:f(b)}),e.jsx("p",{className:"text-green-500 dark:text-green-400 text-xs",children:"+12% این ماه"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl p-6 border border-purple-200 dark:border-purple-800",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-vitimo-500 rounded-xl",children:e.jsx(R,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-vitimo-600 dark:text-vitimo-400 text-sm font-medium",children:"کل بازدیدها"}),e.jsx("p",{className:"text-3xl font-bold text-vitimo-700 dark:text-vitimo-300",children:f(d)}),e.jsx("p",{className:"text-vitimo-500 dark:text-vitimo-400 text-xs",children:"+8% این هفته"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-gold-50 to-gold-100 dark:from-gold-900/20 dark:to-gold-800/20 rounded-xl p-6 border border-gold-200 dark:border-gold-800",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-gold-500 rounded-xl",children:e.jsx(ce,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gold-600 dark:text-gold-400 text-sm font-medium",children:"درآمد کل"}),e.jsxs("p",{className:"text-3xl font-bold text-gold-700 dark:text-gold-300",children:[p(m)," ریال"]}),e.jsx("p",{className:"text-gold-500 dark:text-gold-400 text-xs",children:"+25% این ماه"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(F,{className:"w-6 h-6 text-red-500"}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"پخش زنده"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"فعال"}),e.jsx("span",{className:"font-bold text-red-500",children:c})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"کل استریم‌ها"}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:i.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"بینندگان آنلاین"}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:i.reduce((l,n)=>l+n.viewers,0)})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(E,{className:"w-6 h-6 text-gold-500"}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"اشتراک پریمیوم"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"مشترکین فعال"}),e.jsx("span",{className:"font-bold text-gold-500",children:"245"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"درآمد ماهانه"}),e.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:[p(485e4)," ریال"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"نرخ تبدیل"}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"12.5%"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(U,{className:"w-6 h-6 text-vitimo-500"}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"کیف پول"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"موجودی کل"}),e.jsxs("span",{className:"font-bold text-vitimo-500",children:[p(r)," ریال"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"تراکنش‌های امروز"}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:a.filter(l=>l.date===new Date().toISOString().split("T")[0]).length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"درآمد امروز"}),e.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:[p(125e3)," ریال"]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"بازدیدهای ماهانه"}),e.jsx(Z,{width:"100%",height:300,children:e.jsxs(os,{data:u,children:[e.jsx(ie,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(le,{dataKey:"month",stroke:"#9CA3AF"}),e.jsx(de,{stroke:"#9CA3AF"}),e.jsx(ee,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"12px",color:"#F9FAFB"}}),e.jsx(cs,{type:"monotone",dataKey:"views",stroke:"#6A0DAD",fill:"#6A0DAD",fillOpacity:.3})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"درآمد ماهانه (ریال)"}),e.jsx(Z,{width:"100%",height:300,children:e.jsxs(xs,{data:u,children:[e.jsx(ie,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(le,{dataKey:"month",stroke:"#9CA3AF"}),e.jsx(de,{stroke:"#9CA3AF"}),e.jsx(ee,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"12px",color:"#F9FAFB"},formatter:l=>[`${p(l)} ریال`,"درآمد"]}),e.jsx(ms,{type:"monotone",dataKey:"earnings",stroke:"#FFD700",strokeWidth:3})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"توزیع محتوا بر اساس دسته"}),e.jsx(Z,{width:"100%",height:300,children:e.jsxs(Zs,{children:[e.jsx(et,{data:j,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,percent:n})=>`${l} ${(n*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:j.map((l,n)=>e.jsx(st,{fill:l.color},`cell-${n}`))}),e.jsx(ee,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"12px",color:"#F9FAFB"}})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"منابع درآمد"}),e.jsx("div",{className:"space-y-4",children:x.map((l,n)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:l.source}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:[p(l.amount)," ریال"]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[l.percentage,"%"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-vitimo h-2 rounded-full transition-all duration-500",style:{width:`${l.percentage}%`}})})]},n))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"فعالیت‌های اخیر"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"ویدیو جدید آپلود شد"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"توسط آکادمی کدنویسی • ۲ ساعت پیش"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"کاربر جدید ثبت نام کرد"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"محمد رضایی • ۴ ساعت پیش"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gold-50 dark:bg-gold-900/20 rounded-xl",children:[e.jsx("div",{className:"w-3 h-3 bg-gold-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"اشتراک پریمیوم خریداری شد"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"سارا احمدی • ۶ ساعت پیش"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-xl",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"پخش زنده شروع شد"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"گیمر پرو • ۸ ساعت پیش"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"ویدیوهای برتر"}),e.jsx("div",{className:"space-y-4",children:s.filter(l=>l.status==="published").sort((l,n)=>n.views-l.views).slice(0,5).map((l,n)=>e.jsxs("div",{className:"flex items-center space-x-4 p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-xl transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-vitimo rounded-full flex items-center justify-center text-white font-bold",children:n+1}),e.jsx("img",{src:l.thumbnail,alt:l.title,className:"w-16 h-10 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white line-clamp-1",children:l.title}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{children:[f(l.views)," بازدید"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[p(l.earnings||0)," ریال"]})]})]})]},l.id))})]})]})]})},Gt=()=>{const[s,r]=h.useState("all"),[a]=h.useState([{id:"1",username:"VideoCreator",email:"creator@example.com",avatar:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=100",joinDate:"2023-01-15",videosCount:25,subscribersCount:125e3,status:"active",isVerified:!0},{id:"2",username:"TechReviewer",email:"tech@example.com",avatar:"https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg?auto=compress&cs=tinysrgb&w=100",joinDate:"2023-03-20",videosCount:18,subscribersCount:89e3,status:"active",isVerified:!0},{id:"3",username:"GameMaster",email:"gamer@example.com",avatar:"https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=100",joinDate:"2023-06-10",videosCount:45,subscribersCount:23e4,status:"active",isVerified:!1},{id:"4",username:"CookingQueen",email:"cooking@example.com",avatar:"https://images.pexels.com/photos/733872/pexels-photo-733872.jpeg?auto=compress&cs=tinysrgb&w=100",joinDate:"2023-08-05",videosCount:32,subscribersCount:156e3,status:"suspended",isVerified:!1}]),i=a.filter(d=>s==="all"?!0:d.status===s),t=d=>d>=1e6?`${(d/1e6).toFixed(1)}M`:d>=1e3?`${(d/1e3).toFixed(1)}K`:d.toString(),o=d=>{switch(d){case"active":return e.jsx("span",{className:"px-2 py-1 text-xs bg-green-600 text-white rounded-full",children:"Active"});case"suspended":return e.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-600 text-white rounded-full",children:"Suspended"});case"banned":return e.jsx("span",{className:"px-2 py-1 text-xs bg-red-600 text-white rounded-full",children:"Banned"});default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"User Management"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Manage platform users and their permissions"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("select",{value:s,onChange:d=>r(d.target.value),className:"bg-gray-700 border border-gray-600 text-white px-3 py-2 rounded-lg focus:outline-none focus:border-red-500",children:[e.jsx("option",{value:"all",children:"All Users"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"suspended",children:"Suspended"}),e.jsx("option",{value:"banned",children:"Banned"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-gray-400 text-sm",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:a.length})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-gray-400 text-sm",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold text-green-400",children:a.filter(d=>d.status==="active").length})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-gray-400 text-sm",children:"Verified Users"}),e.jsx("p",{className:"text-2xl font-bold text-blue-400",children:a.filter(d=>d.isVerified).length})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-gray-400 text-sm",children:"Suspended/Banned"}),e.jsx("p",{className:"text-2xl font-bold text-red-400",children:a.filter(d=>d.status!=="active").length})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 text-gray-300",children:"User"}),e.jsx("th",{className:"text-left p-4 text-gray-300",children:"Email"}),e.jsx("th",{className:"text-left p-4 text-gray-300",children:"Join Date"}),e.jsx("th",{className:"text-left p-4 text-gray-300",children:"Videos"}),e.jsx("th",{className:"text-left p-4 text-gray-300",children:"Subscribers"}),e.jsx("th",{className:"text-left p-4 text-gray-300",children:"Status"}),e.jsx("th",{className:"text-left p-4 text-gray-300",children:"Actions"})]})}),e.jsx("tbody",{children:i.map(d=>e.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-750",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:d.avatar,alt:d.username,className:"w-12 h-12 rounded-full"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"text-white font-medium",children:d.username}),d.isVerified&&e.jsx(Ae,{className:"w-4 h-4 text-blue-500"})]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["ID: ",d.id]})]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-300",children:d.email})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-300",children:d.joinDate})]})}),e.jsx("td",{className:"p-4 text-gray-300",children:d.videosCount}),e.jsx("td",{className:"p-4 text-gray-300",children:t(d.subscribersCount)}),e.jsx("td",{className:"p-4",children:o(d.status)}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",title:"View Details",children:e.jsx(R,{className:"w-4 h-4"})}),d.status==="active"?e.jsx("button",{className:"p-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors",title:"Suspend User",children:e.jsx(ze,{className:"w-4 h-4"})}):e.jsx("button",{className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",title:"Activate User",children:e.jsx(Ae,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",title:"Ban User",children:e.jsx(ze,{className:"w-4 h-4"})})]})})]},d.id))})]})}),i.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-400",children:"No users found for the selected filter."})})]})]})},Ht=()=>{const{videos:s,updateVideoStatus:r,deleteVideo:a}=H(),[i,t]=h.useState("all"),o=s.filter(c=>i==="all"?!0:c.status===i),d=c=>c>=1e6?`${(c/1e6).toFixed(1)}M`:c>=1e3?`${(c/1e3).toFixed(1)}K`:c.toString(),m=c=>{switch(c){case"published":return e.jsx("span",{className:"px-2 py-1 text-xs bg-green-600 text-white rounded-full",children:"Published"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-600 text-white rounded-full",children:"Pending"});case"rejected":return e.jsx("span",{className:"px-2 py-1 text-xs bg-red-600 text-white rounded-full",children:"Rejected"});default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Video Management"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Manage and moderate uploaded videos"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ns,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:i,onChange:c=>t(c.target.value),className:"bg-gray-700 border border-gray-600 text-white px-3 py-2 rounded-lg focus:outline-none focus:border-red-500",children:[e.jsx("option",{value:"all",children:"All Videos"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-gray-400 text-sm",children:"Total Videos"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:s.length})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-gray-400 text-sm",children:"Published"}),e.jsx("p",{className:"text-2xl font-bold text-green-400",children:s.filter(c=>c.status==="published").length})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-gray-400 text-sm",children:"Pending Review"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:s.filter(c=>c.status==="pending").length})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-gray-400 text-sm",children:"Rejected"}),e.jsx("p",{className:"text-2xl font-bold text-red-400",children:s.filter(c=>c.status==="rejected").length})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 text-gray-300",children:"Video"}),e.jsx("th",{className:"text-left p-4 text-gray-300",children:"Channel"}),e.jsx("th",{className:"text-left p-4 text-gray-300",children:"Views"}),e.jsx("th",{className:"text-left p-4 text-gray-300",children:"Upload Date"}),e.jsx("th",{className:"text-left p-4 text-gray-300",children:"Status"}),e.jsx("th",{className:"text-left p-4 text-gray-300",children:"Actions"})]})}),e.jsx("tbody",{children:o.map(c=>e.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-750",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:c.thumbnail,alt:c.title,className:"w-20 h-12 object-cover rounded"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium line-clamp-2 max-w-xs",children:c.title}),e.jsx("p",{className:"text-gray-400 text-sm",children:c.duration})]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:c.channel.avatar,alt:c.channel.name,className:"w-8 h-8 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:c.channel.name}),c.channel.verified&&e.jsx(O,{className:"w-4 h-4 text-blue-500"})]})}),e.jsx("td",{className:"p-4 text-gray-300",children:d(c.views)}),e.jsx("td",{className:"p-4 text-gray-300",children:c.uploadDate}),e.jsx("td",{className:"p-4",children:m(c.status)}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[c.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>r(c.id,"published"),className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",title:"Approve",children:e.jsx(O,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>r(c.id,"rejected"),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",title:"Reject",children:e.jsx(is,{className:"w-4 h-4"})})]}),c.status==="rejected"&&e.jsx("button",{onClick:()=>r(c.id,"published"),className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",title:"Approve",children:e.jsx(O,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",title:"View",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>a(c.id),className:"p-2 bg-gray-600 hover:bg-red-600 text-white rounded-lg transition-colors",title:"Delete",children:e.jsx(at,{className:"w-4 h-4"})})]})})]},c.id))})]})}),o.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-400",children:"No videos found for the selected filter."})})]})]})},Jt=()=>{const s=[{date:"2024-01-01",views:12e3,users:1200,watchTime:8500},{date:"2024-01-02",views:15e3,users:1400,watchTime:9200},{date:"2024-01-03",views:11e3,users:1100,watchTime:7800},{date:"2024-01-04",views:18e3,users:1800,watchTime:11200},{date:"2024-01-05",views:22e3,users:2100,watchTime:13500},{date:"2024-01-06",views:25e3,users:2300,watchTime:15200},{date:"2024-01-07",views:28e3,users:2600,watchTime:17800}],r=[{title:"Amazing Sunset Timelapse",views:25e5,duration:"3:45"},{title:"Web Development Tutorial",views:85e4,duration:"15:20"},{title:"Cooking Perfect Pasta",views:12e5,duration:"8:15"},{title:"Gaming Highlights",views:68e4,duration:"12:30"},{title:"Travel Vlog",views:92e4,duration:"18:45"}],a=[{device:"Desktop",percentage:45},{device:"Mobile",percentage:40},{device:"Tablet",percentage:15}],i=t=>t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toString();return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Analytics"}),e.jsx("p",{className:"text-gray-400",children:"Detailed insights into your platform's performance"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:e.jsx(R,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Daily Views"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:"28K"}),e.jsx("p",{className:"text-green-400 text-xs",children:"+12% from yesterday"})]})]})}),e.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-green-600 rounded-lg",children:e.jsx(M,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:"2.6K"}),e.jsx("p",{className:"text-green-400 text-xs",children:"+8% from yesterday"})]})]})}),e.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-purple-600 rounded-lg",children:e.jsx(K,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Watch Time"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:"17.8K"}),e.jsx("p",{className:"text-green-400 text-xs",children:"+15% from yesterday"})]})]})}),e.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-red-600 rounded-lg",children:e.jsx(q,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Engagement Rate"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:"4.2%"}),e.jsx("p",{className:"text-green-400 text-xs",children:"+0.3% from yesterday"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Views Over Time"}),e.jsx(Z,{width:"100%",height:300,children:e.jsxs(os,{data:s,children:[e.jsx(ie,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(le,{dataKey:"date",stroke:"#9CA3AF"}),e.jsx(de,{stroke:"#9CA3AF"}),e.jsx(ee,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"}}),e.jsx(cs,{type:"monotone",dataKey:"views",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3})]})})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Active Users"}),e.jsx(Z,{width:"100%",height:300,children:e.jsxs(xs,{data:s,children:[e.jsx(ie,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(le,{dataKey:"date",stroke:"#9CA3AF"}),e.jsx(de,{stroke:"#9CA3AF"}),e.jsx(ee,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"}}),e.jsx(ms,{type:"monotone",dataKey:"users",stroke:"#10B981",strokeWidth:3})]})})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Total Watch Time (minutes)"}),e.jsx(Z,{width:"100%",height:300,children:e.jsxs(rt,{data:s,children:[e.jsx(ie,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(le,{dataKey:"date",stroke:"#9CA3AF"}),e.jsx(de,{stroke:"#9CA3AF"}),e.jsx(ee,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"}}),e.jsx(it,{dataKey:"watchTime",fill:"#8B5CF6"})]})})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Device Usage"}),e.jsx("div",{className:"space-y-4",children:a.map(t=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-300",children:t.device}),e.jsxs("span",{className:"text-white font-medium",children:[t.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-500",style:{width:`${t.percentage}%`}})})]},t.device))})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Top Performing Videos"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3 text-gray-300",children:"Video Title"}),e.jsx("th",{className:"text-left p-3 text-gray-300",children:"Views"}),e.jsx("th",{className:"text-left p-3 text-gray-300",children:"Duration"}),e.jsx("th",{className:"text-left p-3 text-gray-300",children:"Performance"})]})}),e.jsx("tbody",{children:r.map((t,o)=>e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("td",{className:"p-3 text-white",children:t.title}),e.jsx("td",{className:"p-3 text-gray-300",children:i(t.views)}),e.jsx("td",{className:"p-3 text-gray-300",children:t.duration}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(t.views/25e5*100,100)}%`}})}),e.jsxs("span",{className:"text-xs text-gray-400",children:[Math.min(t.views/25e5*100,100).toFixed(0),"%"]})]})})]},o))})]})})]})]})},Qt=()=>{const{liveStreams:s,createLiveStream:r,endLiveStream:a}=Ue(),{language:i,t}=$(),[o,d]=h.useState(!1),[m,c]=h.useState(""),[b,u]=h.useState(""),j=s.filter(g=>g.isLive),x=s.filter(g=>!g.isLive&&new Date(g.scheduledTime)>new Date),f=s.filter(g=>!g.isLive&&new Date(g.scheduledTime)<=new Date),p=j.reduce((g,C)=>g+C.viewers,0),l=s.reduce((g,C)=>g+(C.revenue||0),0),n=()=>{m.trim()&&(r({title:m,description:b,scheduledTime:new Date().toISOString()}),c(""),u(""),d(!1))},v=g=>new Intl.NumberFormat("fa-IR").format(g),k=g=>{const C=Math.floor(g/3600),y=Math.floor(g%3600/60);return`${C}:${y.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:i==="fa"?"مدیریت پخش زنده":"Live Stream Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:i==="fa"?"مدیریت و نظارت بر پخش‌های زنده پلتفرم":"Manage and monitor platform live streams"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-vitimo-500 to-vitimo-600 hover:from-vitimo-600 hover:to-vitimo-700 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 flex items-center space-x-2",children:[e.jsx(F,{className:"w-5 h-5"}),e.jsx("span",{children:i==="fa"?"ایجاد پخش زنده":"Create Live Stream"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 rounded-xl p-6 border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-red-500 rounded-xl",children:e.jsx(F,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm font-medium",children:i==="fa"?"پخش زنده فعال":"Active Streams"}),e.jsx("p",{className:"text-3xl font-bold text-red-700 dark:text-red-300",children:j.length})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-blue-500 rounded-xl",children:e.jsx(M,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium",children:i==="fa"?"بینندگان آنلاین":"Online Viewers"}),e.jsx("p",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300",children:p.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-green-500 rounded-xl",children:e.jsx(K,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:i==="fa"?"برنامه‌ریزی شده":"Scheduled"}),e.jsx("p",{className:"text-3xl font-bold text-green-700 dark:text-green-300",children:x.length})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-gold-50 to-gold-100 dark:from-gold-900/20 dark:to-gold-800/20 rounded-xl p-6 border border-gold-200 dark:border-gold-800",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-gold-500 rounded-xl",children:e.jsx(ce,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gold-600 dark:text-gold-400 text-sm font-medium",children:i==="fa"?"درآمد کل":"Total Revenue"}),e.jsxs("p",{className:"text-3xl font-bold text-gold-700 dark:text-gold-300",children:[v(l)," ",i==="fa"?"ریال":"IRR"]})]})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center space-x-2",children:[e.jsx(F,{className:"w-6 h-6 text-red-500"}),e.jsx("span",{children:i==="fa"?"پخش‌های زنده فعال":"Active Live Streams"})]})}),e.jsx("div",{className:"p-6",children:j.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(F,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:i==="fa"?"هیچ پخش زنده فعالی وجود ندارد":"No active live streams"})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:j.map(g=>e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-red-500 font-medium text-sm",children:i==="fa"?"زنده":"LIVE"})]}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:g.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:g.description})]}),e.jsx("button",{onClick:()=>a(g.id),className:"bg-red-500 hover:bg-red-600 text-white p-2 rounded-lg transition-colors",children:e.jsx(lt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.viewers.toLocaleString()," ",i==="fa"?"بیننده":"viewers"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(K,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:k(g.duration||0)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(dt,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(g.chatMessages||0).toLocaleString()," ",i==="fa"?"پیام":"messages"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ce,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[v(g.revenue||0)," ",i==="fa"?"ریال":"IRR"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:g.streamer.avatar,alt:g.streamer.name,className:"w-8 h-8 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:g.streamer.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:e.jsx(ye,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]},g.id))})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center space-x-2",children:[e.jsx(K,{className:"w-6 h-6 text-blue-500"}),e.jsx("span",{children:i==="fa"?"پخش‌های برنامه‌ریزی شده":"Scheduled Streams"})]})}),e.jsx("div",{className:"p-6",children:x.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(K,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:i==="fa"?"هیچ پخش برنامه‌ریزی شده‌ای وجود ندارد":"No scheduled streams"})]}):e.jsx("div",{className:"space-y-4",children:x.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:g.streamer.avatar,alt:g.streamer.name,className:"w-12 h-12 rounded-full"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:g.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.streamer.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[new Date(g.scheduledTime).toLocaleDateString("fa-IR")," -",new Date(g.scheduledTime).toLocaleTimeString("fa-IR")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:i==="fa"?"شروع":"Start"}),e.jsx("button",{className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:i==="fa"?"ویرایش":"Edit"})]})]},g.id))})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:i==="fa"?"آمار پخش زنده":"Live Stream Analytics"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i==="fa"?"میانگین بینندگان":"Average Viewers"}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:Math.round(p/Math.max(j.length,1)).toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i==="fa"?"کل ساعات پخش":"Total Stream Hours"}),e.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:[s.reduce((g,C)=>g+(C.duration||0),0)/3600," ساعت"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i==="fa"?"درآمد کل":"Total Revenue"}),e.jsxs("span",{className:"font-bold text-gold-600",children:[v(l)," ",i==="fa"?"ریال":"IRR"]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:i==="fa"?"استریمرهای برتر":"Top Streamers"}),e.jsx("div",{className:"space-y-4",children:s.sort((g,C)=>(C.totalViews||0)-(g.totalViews||0)).slice(0,5).map((g,C)=>{var y;return e.jsxs("div",{className:"flex items-center space-x-4 p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-xl transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-vitimo rounded-full flex items-center justify-center text-white font-bold",children:C+1}),e.jsx("img",{src:g.streamer.avatar,alt:g.streamer.name,className:"w-10 h-10 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:g.streamer.name}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{children:[(g.totalViews||0).toLocaleString()," بازدید"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[(y=g.followers)==null?void 0:y.toLocaleString()," دنبال‌کننده"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"font-bold text-gold-600",children:[v(g.revenue||0)," ریال"]})})]},g.id)})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:i==="fa"?"پخش‌های اخیر":"Recent Streams"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:i==="fa"?"استریمر":"Streamer"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:i==="fa"?"عنوان":"Title"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:i==="fa"?"مدت زمان":"Duration"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:i==="fa"?"بینندگان":"Viewers"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:i==="fa"?"درآمد":"Revenue"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:i==="fa"?"عملیات":"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:f.slice(0,10).map(g=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:g.streamer.avatar,alt:g.streamer.name,className:"w-8 h-8 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:g.streamer.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white font-medium line-clamp-1",children:g.title})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:k(g.duration||0)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:(g.totalViews||0).toLocaleString()}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gold-600",children:[v(g.revenue||0)," ریال"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",children:i==="fa"?"مشاهده":"View"}),e.jsx("button",{className:"text-red-600 hover:text-red-800 transition-colors",children:i==="fa"?"حذف":"Delete"})]})})]},g.id))})]})})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 max-w-md w-full mx-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:i==="fa"?"ایجاد پخش زنده جدید":"Create New Live Stream"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i==="fa"?"عنوان پخش":"Stream Title"}),e.jsx("input",{type:"text",value:m,onChange:g=>c(g.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-vitimo-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:i==="fa"?"عنوان پخش زنده را وارد کنید":"Enter stream title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i==="fa"?"توضیحات":"Description"}),e.jsx("textarea",{value:b,onChange:g=>u(g.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-vitimo-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:i==="fa"?"توضیحات پخش زنده":"Stream description"})]})]}),e.jsxs("div",{className:"flex space-x-4 mt-8",children:[e.jsx("button",{onClick:n,className:"flex-1 bg-gradient-to-r from-vitimo-500 to-vitimo-600 hover:from-vitimo-600 hover:to-vitimo-700 text-white py-3 rounded-xl font-medium transition-all duration-200",children:i==="fa"?"ایجاد پخش":"Create Stream"}),e.jsx("button",{onClick:()=>d(!1),className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-xl font-medium transition-colors",children:i==="fa"?"انصراف":"Cancel"})]})]})})]})},Yt=()=>{const{balance:s,transactions:r,totalEarnings:a,pendingWithdrawals:i}=ge(),{language:t}=$(),[o,d]=h.useState("all"),[m,c]=h.useState(""),b=r.filter(n=>n.type==="deposit").reduce((n,v)=>n+v.amount,0),u=r.filter(n=>n.type==="withdrawal").reduce((n,v)=>n+v.amount,0),j=[{month:"فروردین",revenue:25e5,transactions:145},{month:"اردیبهشت",revenue:32e5,transactions:189},{month:"خرداد",revenue:41e5,transactions:234},{month:"تیر",revenue:48e5,transactions:267},{month:"مرداد",revenue:55e5,transactions:298},{month:"شهریور",revenue:62e5,transactions:325}],x=r.filter(n=>{const v=o==="all"||n.type===o,k=n.description.toLowerCase().includes(m.toLowerCase())||n.user.toLowerCase().includes(m.toLowerCase());return v&&k}),f=n=>new Intl.NumberFormat("fa-IR").format(n),p=n=>{switch(n){case"deposit":return e.jsx(We,{className:"w-4 h-4 text-green-500"});case"withdrawal":return e.jsx(Ke,{className:"w-4 h-4 text-red-500"});case"earning":return e.jsx(ce,{className:"w-4 h-4 text-gold-500"});default:return e.jsx(ds,{className:"w-4 h-4 text-gray-500"})}},l=n=>{const v={completed:{color:"green",text:t==="fa"?"تکمیل شده":"Completed"},pending:{color:"yellow",text:t==="fa"?"در انتظار":"Pending"},failed:{color:"red",text:t==="fa"?"ناموفق":"Failed"}},k=v[n]||v.pending;return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-${k.color}-100 text-${k.color}-800 dark:bg-${k.color}-900/20 dark:text-${k.color}-400`,children:k.text})};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:t==="fa"?"مدیریت کیف پول":"Wallet Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t==="fa"?"مدیریت تراکنش‌ها، درآمدها و برداشت‌های پلتفرم":"Manage transactions, earnings, and platform withdrawals"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-xl font-medium transition-colors flex items-center space-x-2",children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{children:t==="fa"?"گزارش":"Export"})]}),e.jsxs("button",{className:"bg-vitimo-500 hover:bg-vitimo-600 text-white px-4 py-2 rounded-xl font-medium transition-colors flex items-center space-x-2",children:[e.jsx(ot,{className:"w-4 h-4"}),e.jsx("span",{children:t==="fa"?"بروزرسانی":"Refresh"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-green-500 rounded-xl",children:e.jsx(U,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:t==="fa"?"موجودی کل":"Total Balance"}),e.jsxs("p",{className:"text-3xl font-bold text-green-700 dark:text-green-300",children:[f(s)," ریال"]}),e.jsx("p",{className:"text-green-500 dark:text-green-400 text-xs",children:"+12% این ماه"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-blue-500 rounded-xl",children:e.jsx(We,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium",children:t==="fa"?"کل واریزی‌ها":"Total Deposits"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300",children:[f(b)," ریال"]}),e.jsx("p",{className:"text-blue-500 dark:text-blue-400 text-xs",children:"+8% این هفته"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 rounded-xl p-6 border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-red-500 rounded-xl",children:e.jsx(Ke,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm font-medium",children:t==="fa"?"کل برداشت‌ها":"Total Withdrawals"}),e.jsxs("p",{className:"text-3xl font-bold text-red-700 dark:text-red-300",children:[f(u)," ریال"]}),e.jsxs("p",{className:"text-red-500 dark:text-red-400 text-xs",children:[i," در انتظار"]})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-gold-50 to-gold-100 dark:from-gold-900/20 dark:to-gold-800/20 rounded-xl p-6 border border-gold-200 dark:border-gold-800",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-gold-500 rounded-xl",children:e.jsx(q,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gold-600 dark:text-gold-400 text-sm font-medium",children:t==="fa"?"کل درآمدها":"Total Earnings"}),e.jsxs("p",{className:"text-3xl font-bold text-gold-700 dark:text-gold-300",children:[f(a)," ریال"]}),e.jsx("p",{className:"text-gold-500 dark:text-gold-400 text-xs",children:"+25% این ماه"})]})]})})]}),i>0&&e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(hs,{className:"w-6 h-6 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-yellow-800 dark:text-yellow-400",children:t==="fa"?"برداشت‌های در انتظار":"Pending Withdrawals"}),e.jsx("p",{className:"text-yellow-700 dark:text-yellow-300",children:t==="fa"?`${i} درخواست برداشت در انتظار بررسی است`:`${i} withdrawal requests are pending review`})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t==="fa"?"تاریخچه تراکنش‌ها":"Transaction History"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:m,onChange:n=>c(n.target.value),placeholder:t==="fa"?"جستجو...":"Search...",className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-vitimo-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),e.jsxs("select",{value:o,onChange:n=>d(n.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-vitimo-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"all",children:t==="fa"?"همه تراکنش‌ها":"All Transactions"}),e.jsx("option",{value:"deposit",children:t==="fa"?"واریزی‌ها":"Deposits"}),e.jsx("option",{value:"withdrawal",children:t==="fa"?"برداشت‌ها":"Withdrawals"}),e.jsx("option",{value:"earning",children:t==="fa"?"درآمدها":"Earnings"})]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t==="fa"?"نوع":"Type"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t==="fa"?"کاربر":"User"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t==="fa"?"مبلغ":"Amount"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t==="fa"?"توضیحات":"Description"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t==="fa"?"وضعیت":"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t==="fa"?"تاریخ":"Date"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t==="fa"?"عملیات":"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:x.slice(0,20).map(n=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[p(n.type),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:t==="fa"?n.type==="deposit"?"واریز":n.type==="withdrawal"?"برداشت":n.type==="earning"?"درآمد":n.type:n.type})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white font-medium",children:n.user})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:`text-sm font-bold ${n.type==="deposit"||n.type==="earning"?"text-green-600":"text-red-600"}`,children:[n.type==="withdrawal"?"-":"+",f(n.amount)," ریال"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-1",children:n.description})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l(n.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:new Date(n.date).toLocaleDateString("fa-IR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",children:t==="fa"?"جزئیات":"Details"}),n.status==="pending"&&e.jsx("button",{className:"text-green-600 hover:text-green-800 transition-colors",children:t==="fa"?"تایید":"Approve"})]})})]},n.id))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:t==="fa"?"درآمد ماهانه":"Monthly Revenue"}),e.jsx("div",{className:"space-y-4",children:j.map((n,v)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:n.month}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.transactions," تراکنش"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-green-600",children:[f(n.revenue)," ریال"]}),e.jsx("p",{className:"text-xs text-gray-500",children:v>0?e.jsxs("span",{className:`flex items-center ${n.revenue>j[v-1].revenue?"text-green-500":"text-red-500"}`,children:[n.revenue>j[v-1].revenue?e.jsx(q,{className:"w-3 h-3 mr-1"}):e.jsx(ct,{className:"w-3 h-3 mr-1"}),Math.abs((n.revenue-j[v-1].revenue)/j[v-1].revenue*100).toFixed(1),"%"]}):null})]})]},v))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:t==="fa"?"درخواست‌های برداشت":"Withdrawal Requests"}),e.jsxs("div",{className:"space-y-4",children:[r.filter(n=>n.type==="withdrawal"&&n.status==="pending").slice(0,5).map(n=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center",children:e.jsx(M,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:n.user}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f(n.amount)," ریال"]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(n.date).toLocaleDateString("fa-IR")})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-lg text-sm transition-colors flex items-center space-x-1",children:[e.jsx(O,{className:"w-3 h-3"}),e.jsx("span",{children:t==="fa"?"تایید":"Approve"})]}),e.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-lg text-sm transition-colors",children:t==="fa"?"رد":"Reject"})]})]},n.id)),r.filter(n=>n.type==="withdrawal"&&n.status==="pending").length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(O,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t==="fa"?"همه درخواست‌ها پردازش شده‌اند":"All requests have been processed"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:t==="fa"?"خلاصه مالی":"Financial Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-vitimo-50 to-vitimo-100 dark:from-vitimo-900/20 dark:to-vitimo-800/20 rounded-xl",children:[e.jsx(ce,{className:"w-12 h-12 text-vitimo-600 mx-auto mb-3"}),e.jsx("h4",{className:"font-bold text-vitimo-700 dark:text-vitimo-300 text-lg",children:t==="fa"?"درآمد امروز":"Today's Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-vitimo-800 dark:text-vitimo-200",children:[f(125e3)," ریال"]})]}),e.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl",children:[e.jsx(q,{className:"w-12 h-12 text-green-600 mx-auto mb-3"}),e.jsx("h4",{className:"font-bold text-green-700 dark:text-green-300 text-lg",children:t==="fa"?"رشد ماهانه":"Monthly Growth"}),e.jsx("p",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:"+18.5%"})]}),e.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl",children:[e.jsx(M,{className:"w-12 h-12 text-blue-600 mx-auto mb-3"}),e.jsx("h4",{className:"font-bold text-blue-700 dark:text-blue-300 text-lg",children:t==="fa"?"کاربران فعال":"Active Users"}),e.jsx("p",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:"1,247"})]})]})]})]})};function Xt(){return e.jsx(wt,{children:e.jsx(ft,{children:e.jsx(kt,{children:e.jsx(Ct,{children:e.jsx(vt,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white",children:e.jsx("div",{className:"vitimo-container",children:e.jsxs(Se,{children:[e.jsx(T,{path:"/login",element:e.jsx(It,{})}),e.jsx(T,{path:"/register",element:e.jsx(Ut,{})}),e.jsx(T,{path:"/admin/*",element:e.jsx(Vt,{children:e.jsxs(Se,{children:[e.jsx(T,{path:"/",element:e.jsx(Kt,{})}),e.jsx(T,{path:"/users",element:e.jsx(Gt,{})}),e.jsx(T,{path:"/videos",element:e.jsx(Ht,{})}),e.jsx(T,{path:"/analytics",element:e.jsx(Jt,{})}),e.jsx(T,{path:"/live",element:e.jsx(Qt,{})}),e.jsx(T,{path:"/wallet",element:e.jsx(Yt,{})})]})})}),e.jsx(T,{path:"/*",element:e.jsx(At,{children:e.jsxs(Se,{children:[e.jsx(T,{path:"/",element:e.jsx(Lt,{})}),e.jsx(T,{path:"/watch/:id",element:e.jsx(Ft,{})}),e.jsx(T,{path:"/upload",element:e.jsx(Rt,{})}),e.jsx(T,{path:"/profile/:id",element:e.jsx(Et,{})}),e.jsx(T,{path:"/premium",element:e.jsx(Mt,{})}),e.jsx(T,{path:"/rewards",element:e.jsx(_t,{})}),e.jsx(T,{path:"/wallet",element:e.jsx(Bt,{})}),e.jsx(T,{path:"/live",element:e.jsx(qt,{})}),e.jsx(T,{path:"/podcasts",element:e.jsx(Ot,{})}),e.jsx(T,{path:"/playlists",element:e.jsx(zt,{})}),e.jsx(T,{path:"/search",element:e.jsx(Wt,{})})]})})})]})})})})})})})})}class Zt extends h.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("Error caught by boundary:",r,a)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 text-center",children:[e.jsx(hs,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"خطایی رخ داده است"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"متأسفانه مشکلی پیش آمده است. لطفاً صفحه را رفرش کنید."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors",children:"رفرش صفحه"})]})}):this.props.children}}try{bt()}catch(s){throw console.error("Environment validation failed:",s),document.getElementById("root").innerHTML=`
    <div style="display: flex; align-items: center; justify-center; min-height: 100vh; padding: 1rem; background: #f9fafb;">
      <div style="max-width: 32rem; padding: 2rem; background: white; border-radius: 0.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
        <h1 style="color: #dc2626; font-size: 1.5rem; margin-bottom: 1rem;">خطای پیکربندی</h1>
        <p style="color: #4b5563; margin-bottom: 1rem;">متغیرهای محیطی به درستی تنظیم نشده‌اند.</p>
        <pre style="background: #f3f4f6; padding: 1rem; border-radius: 0.25rem; overflow-x: auto; font-size: 0.875rem;">${s}</pre>
      </div>
    </div>
  `,s}Ve.createRoot(document.getElementById("root")).render(e.jsx(ks.StrictMode,{children:e.jsx(Zt,{children:e.jsx(Ss,{children:e.jsx(Xt,{})})})}));
